"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[5376],{5398(e,n,i){i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"guides/opa-integration","title":"OPA Integration Reference","description":"Policy Evaluation with OPA (Reference Implementation)","source":"@site/../docs/guides/opa-integration.md","sourceDirName":"guides","slug":"/guides/opa-integration","permalink":"/guides/opa-integration","draft":false,"unlisted":false,"editUrl":"https://github.com/Rainminds/gantral/tree/main/../docs/guides/opa-integration.md","tags":[],"version":"current","frontMatter":{"id":"opa-integration","title":"OPA Integration Reference","sidebar_label":"OPA Integration"},"sidebar":"tutorialSidebar","previous":{"title":"Example Consumer Guide","permalink":"/guides/example-consumer-integration"},"next":{"title":"What is Gantral?","permalink":"/positioning/what-is-gantral"}}');var t=i(4848),r=i(8453);const l={id:"opa-integration",title:"OPA Integration Reference",sidebar_label:"OPA Integration"},o="Gantral \u2013 Implementation Guide",a={},d=[{value:"<strong>Policy Evaluation with OPA (Reference Implementation)</strong>",id:"policy-evaluation-with-opa-reference-implementation",level:2},{value:"<strong>1. How This Guide Fits into Gantral</strong>",id:"1-how-this-guide-fits-into-gantral",level:2},{value:"<strong>What This Guide IS</strong>",id:"what-this-guide-is",level:3},{value:"<strong>What This Guide IS NOT</strong>",id:"what-this-guide-is-not",level:3},{value:"<strong>2. Recap: Correct Responsibility Split</strong>",id:"2-recap-correct-responsibility-split",level:2},{value:"<strong>Gantral Owns</strong>",id:"gantral-owns",level:3},{value:"<strong>Policy Evaluator (OPA in this guide) Provides</strong>",id:"policy-evaluator-opa-in-this-guide-provides",level:3},{value:"<strong>Policy Evaluators Never</strong>",id:"policy-evaluators-never",level:3},{value:"<strong>3. Where Policy Evaluation Happens (Critical)</strong>",id:"3-where-policy-evaluation-happens-critical",level:2},{value:"<strong>4. Policy Evaluation Interface (Contract)</strong>",id:"4-policy-evaluation-interface-contract",level:2},{value:"<strong>4.1 Input (Structured &amp; TRD-Aligned Schema)</strong>",id:"41-input-structured--trd-aligned-schema",level:3},{value:"<strong>4.2 Output (Advisory Decision Signals)</strong>",id:"42-output-advisory-decision-signals",level:3},{value:"<strong>5. Using OPA as the Policy Evaluator</strong>",id:"5-using-opa-as-the-policy-evaluator",level:2},{value:"<strong>5.1 Deployment Models</strong>",id:"51-deployment-models",level:3},{value:"<strong>6. Example Rego Policy (Illustrative)</strong>",id:"6-example-rego-policy-illustrative",level:2},{value:"<strong>7. Mapping OPA Output to Execution Transitions (Updated)</strong>",id:"7-mapping-opa-output-to-execution-transitions-updated",level:2},{value:"<strong>Timeout Semantics (Critical)</strong>",id:"timeout-semantics-critical",level:3},{value:"<strong>8. HITL Handling (Gantral-Owned)</strong>",id:"8-hitl-handling-gantral-owned",level:2},{value:"<strong>9. CI/CD and Offline Validation (Optional)</strong>",id:"9-cicd-and-offline-validation-optional",level:2},{value:"<strong>10. Failure Modes &amp; Guarantees (Clarified)</strong>",id:"10-failure-modes--guarantees-clarified",level:2},{value:"<strong>Policy Evaluator Unavailable</strong>",id:"policy-evaluator-unavailable",level:3},{value:"<strong>Determinism Guarantee</strong>",id:"determinism-guarantee",level:3},{value:"<strong>11. Extending Beyond OPA</strong>",id:"11-extending-beyond-opa",level:2},{value:"<strong>12. How and Where to Use This Guide</strong>",id:"12-how-and-where-to-use-this-guide",level:2},{value:"<strong>Who Should Read This</strong>",id:"who-should-read-this",level:3},{value:"<strong>Where This Guide Lives</strong>",id:"where-this-guide-lives",level:3},{value:"<strong>When to Use It</strong>",id:"when-to-use-it",level:3},{value:"<strong>13. Final Reminder</strong>",id:"13-final-reminder",level:2}];function c(e){const n={br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"gantral--implementation-guide",children:(0,t.jsx)(n.strong,{children:"Gantral \u2013 Implementation Guide"})})}),"\n",(0,t.jsx)(n.h2,{id:"policy-evaluation-with-opa-reference-implementation",children:(0,t.jsx)(n.strong,{children:"Policy Evaluation with OPA (Reference Implementation)"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Status:"})," Reference implementation guide (non-normative)"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Audience:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Platform engineers"}),"\n",(0,t.jsx)(n.li,{children:"Core contributors"}),"\n",(0,t.jsx)(n.li,{children:"Enterprise implementers"}),"\n",(0,t.jsx)(n.li,{children:"Solution architects"}),"\n",(0,t.jsx)(n.li,{children:"Security, Risk, and Compliance reviewers"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Purpose:"}),(0,t.jsx)(n.br,{}),"\n","This guide explains ",(0,t.jsx)(n.strong,{children:"how to implement Gantral\u2019s policy evaluation layer using Open Policy Agent (OPA)"})," as a ",(0,t.jsx)(n.em,{children:"reference implementation"}),", while remaining fully compliant with the Gantral ",(0,t.jsx)(n.strong,{children:"PRD"})," and ",(0,t.jsx)(n.strong,{children:"TRD"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["This guide is intentionally ",(0,t.jsx)(n.strong,{children:"non-normative"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["It does ",(0,t.jsx)(n.strong,{children:"not"})," redefine Gantral\u2019s architecture or execution semantics"]}),"\n",(0,t.jsxs)(n.li,{children:["It demonstrates ",(0,t.jsx)(n.em,{children:"one correct way"})," to implement the pluggable policy evaluation interface"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Rule:"})," If this guide conflicts with the TRD, this guide is wrong."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"1-how-this-guide-fits-into-gantral",children:(0,t.jsx)(n.strong,{children:"1. How This Guide Fits into Gantral"})}),"\n",(0,t.jsx)(n.h3,{id:"what-this-guide-is",children:(0,t.jsx)(n.strong,{children:"What This Guide IS"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"A concrete implementation guide"}),"\n",(0,t.jsx)(n.li,{children:"A reference for contributors and adopters"}),"\n",(0,t.jsx)(n.li,{children:"A practical bridge between the PRD (intent) and TRD (constitution)"}),"\n",(0,t.jsx)(n.li,{children:"A starting point for real enterprise deployments"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"what-this-guide-is-not",children:(0,t.jsx)(n.strong,{children:"What This Guide IS NOT"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"A replacement for the TRD"}),"\n",(0,t.jsx)(n.li,{children:"A binding architectural dependency"}),"\n",(0,t.jsx)(n.li,{children:"A definition of Gantral\u2019s execution semantics"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["OPA is used here as a ",(0,t.jsx)(n.strong,{children:"reference evaluator"}),", not as a core dependency."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"2-recap-correct-responsibility-split",children:(0,t.jsx)(n.strong,{children:"2. Recap: Correct Responsibility Split"})}),"\n",(0,t.jsx)(n.p,{children:"Gantral enforces a strict separation of concerns."}),"\n",(0,t.jsx)(n.h3,{id:"gantral-owns",children:(0,t.jsx)(n.strong,{children:"Gantral Owns"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Execution state machine"}),"\n",(0,t.jsx)(n.li,{children:"HITL transitions"}),"\n",(0,t.jsx)(n.li,{children:"Authority capture"}),"\n",(0,t.jsx)(n.li,{children:"Audit and deterministic replay"}),"\n",(0,t.jsx)(n.li,{children:"Instance lifecycle"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"policy-evaluator-opa-in-this-guide-provides",children:(0,t.jsx)(n.strong,{children:"Policy Evaluator (OPA in this guide) Provides"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Declarative policy evaluation"}),"\n",(0,t.jsx)(n.li,{children:"Advisory signals influencing execution transitions"}),"\n",(0,t.jsx)(n.li,{children:"Approver eligibility and escalation hints"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"policy-evaluators-never",children:(0,t.jsx)(n.strong,{children:"Policy Evaluators Never"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Pause execution"}),"\n",(0,t.jsx)(n.li,{children:"Approve actions"}),"\n",(0,t.jsx)(n.li,{children:"Override decisions"}),"\n",(0,t.jsx)(n.li,{children:"Write audit logs"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["They ",(0,t.jsx)(n.strong,{children:"only advise"}),". Gantral enforces."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"3-where-policy-evaluation-happens-critical",children:(0,t.jsx)(n.strong,{children:"3. Where Policy Evaluation Happens (Critical)"})}),"\n",(0,t.jsx)(n.p,{children:"Policy evaluation occurs:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Synchronously"})," during execution transitions"]}),"\n",(0,t.jsxs)(n.li,{children:["As a ",(0,t.jsx)(n.strong,{children:"transition guard"}),", not a durable execution state"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Before"})," entering ",(0,t.jsx)(n.code,{children:"WAITING_FOR_HUMAN"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Canonical flow:"}),"\n",(0,t.jsxs)(n.p,{children:["RUNNING",(0,t.jsx)(n.br,{}),"\n","\u2514\u2500\u2500 policy evaluated",(0,t.jsx)(n.br,{}),"\n","\u251c\u2500\u2500 ALLOW \u2192 continue execution",(0,t.jsx)(n.br,{}),"\n","\u2514\u2500\u2500 REQUIRE_HUMAN \u2192 WAITING_FOR_HUMAN"]}),"\n",(0,t.jsxs)(n.p,{children:["There is ",(0,t.jsxs)(n.strong,{children:["no ",(0,t.jsx)(n.code,{children:"CHECK_POLICY"})," execution state"]}),"."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"4-policy-evaluation-interface-contract",children:(0,t.jsx)(n.strong,{children:"4. Policy Evaluation Interface (Contract)"})}),"\n",(0,t.jsx)(n.p,{children:"Gantral exposes an internal policy evaluation interface. The interface is evaluator-agnostic; OPA is one implementation."}),"\n",(0,t.jsx)(n.h3,{id:"41-input-structured--trd-aligned-schema",children:(0,t.jsx)(n.strong,{children:"4.1 Input (Structured & TRD-Aligned Schema)"})}),"\n",(0,t.jsxs)(n.p,{children:["Policy evaluators receive ",(0,t.jsx)(n.strong,{children:"structured context"}),", never raw prompts."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{  \n  "instance": {  \n    "instance_id": "uuid",  \n    "workflow_id": "string",  \n    "workflow_version": "string",  \n    "materiality": "LOW | MEDIUM | HIGH",  \n    "owning_team_id": "string"  \n  },  \n  "execution": {  \n    "current_state": "RUNNING",  \n    "step": "string",  \n    "cost_estimate": 123.45  \n  },  \n  "context": {  \n    "domain": "sdlc | finance | operations | support",  \n    "trigger": "PR | INCIDENT | PAYMENT | OTHER",  \n    "attributes": { }  \n  },  \n  "identity": {  \n    "actor_id": "service_account_or_human_id",  \n    "roles": ["AGENT_EXECUTOR"]  \n  },  \n  "policy": {  \n    "policy_version_id": "string"  \n  }  \n}\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Notes (Critical):"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"actor_id"})," naming is aligned exactly with TRD terminology"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"policy_version_id"})," is ",(0,t.jsx)(n.strong,{children:"explicitly included"})," to guarantee deterministic replay"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"42-output-advisory-decision-signals",children:(0,t.jsx)(n.strong,{children:"4.2 Output (Advisory Decision Signals)"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{  \n  "decision": "ALLOW | REQUIRE_HUMAN | DENY",  \n  "approver_roles": ["TECH_LEAD", "RISK_OFFICER"],  \n  "timeout": "30m",  \n  "escalation_roles": ["PLATFORM_ADMIN"]  \n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"OPA returns signals only. Gantral interprets and enforces them."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"5-using-opa-as-the-policy-evaluator",children:(0,t.jsx)(n.strong,{children:"5. Using OPA as the Policy Evaluator"})}),"\n",(0,t.jsx)(n.p,{children:"OPA evaluates policies written in Rego using the input schema above."}),"\n",(0,t.jsx)(n.h3,{id:"51-deployment-models",children:(0,t.jsx)(n.strong,{children:"5.1 Deployment Models"})}),"\n",(0,t.jsx)(n.p,{children:"OPA may be deployed as:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Sidecar to the Gantral execution engine"}),"\n",(0,t.jsx)(n.li,{children:"Centralized policy service"}),"\n",(0,t.jsx)(n.li,{children:"Embedded library (advanced / optional)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Sidecar deployment is recommended initially for simplicity and isolation."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"6-example-rego-policy-illustrative",children:(0,t.jsx)(n.strong,{children:"6. Example Rego Policy (Illustrative)"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rego",children:'package gantral.policy\n\ndefault decision = "ALLOW"\n\ndecision = "REQUIRE_HUMAN" {  \n  input.instance.materiality == "HIGH"  \n}\n\ndecision = "DENY" {  \n  input.execution.cost_estimate > 100000  \n  not input.context.attributes.override_allowed  \n}\n\napprover_roles = ["TECH_LEAD"] {  \n  input.instance.materiality == "MEDIUM"  \n}\n\napprover_roles = ["RISK_OFFICER"] {  \n  input.instance.materiality == "HIGH"  \n}\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"7-mapping-opa-output-to-execution-transitions-updated",children:(0,t.jsx)(n.strong,{children:"7. Mapping OPA Output to Execution Transitions (Updated)"})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"OPA Signal"}),(0,t.jsx)(n.th,{children:"Gantral Behavior"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"ALLOW"})}),(0,t.jsx)(n.td,{children:"Continue execution"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"REQUIRE_HUMAN"})}),(0,t.jsxs)(n.td,{children:["Transition to ",(0,t.jsx)(n.code,{children:"WAITING_FOR_HUMAN"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"DENY"})}),(0,t.jsxs)(n.td,{children:["Transition to ",(0,t.jsx)(n.code,{children:"TERMINATED"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"timeout"})," present"]}),(0,t.jsxs)(n.td,{children:["Schedule a ",(0,t.jsx)(n.code,{children:"TIMEOUT"})," execution event"]})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"timeout-semantics-critical",children:(0,t.jsx)(n.strong,{children:"Timeout Semantics (Critical)"})}),"\n",(0,t.jsxs)(n.p,{children:["If a ",(0,t.jsx)(n.code,{children:"timeout"})," value is present:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Gantral schedules a ",(0,t.jsx)(n.code,{children:"TIMEOUT"})," event at the specified duration"]}),"\n",(0,t.jsxs)(n.li,{children:["Upon expiry, ",(0,t.jsxs)(n.strong,{children:["if the instance is still in ",(0,t.jsx)(n.code,{children:"WAITING_FOR_HUMAN"})]}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Fail-closed:"})," transition to ",(0,t.jsx)(n.code,{children:"TERMINATED"}),", or"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Escalate:"})," emit an ",(0,t.jsx)(n.code,{children:"ESCALATION"})," event and update eligible approver roles using ",(0,t.jsx)(n.code,{children:"escalation_roles"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"The exact behavior is determined by policy configuration."}),"\n",(0,t.jsxs)(n.p,{children:["Timeout handling is ",(0,t.jsx)(n.strong,{children:"execution control"}),", not policy evaluation."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"8-hitl-handling-gantral-owned",children:(0,t.jsx)(n.strong,{children:"8. HITL Handling (Gantral-Owned)"})}),"\n",(0,t.jsxs)(n.p,{children:["Once in ",(0,t.jsx)(n.code,{children:"WAITING_FOR_HUMAN"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Gantral determines eligible approvers"}),"\n",(0,t.jsx)(n.li,{children:"Gantral captures decision, role, justification, and context"}),"\n",(0,t.jsx)(n.li,{children:"Gantral enforces resume, override, or termination"}),"\n",(0,t.jsx)(n.li,{children:"Gantral seals the audit record"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["OPA is ",(0,t.jsx)(n.strong,{children:"not invoked"})," during human decision capture."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"9-cicd-and-offline-validation-optional",children:(0,t.jsx)(n.strong,{children:"9. CI/CD and Offline Validation (Optional)"})}),"\n",(0,t.jsx)(n.p,{children:"OPA policies may be:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Unit tested"}),"\n",(0,t.jsx)(n.li,{children:"Validated in CI pipelines"}),"\n",(0,t.jsx)(n.li,{children:"Reviewed independently of Gantral code"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["This is recommended but ",(0,t.jsx)(n.strong,{children:"non-blocking"})," to runtime execution."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"10-failure-modes--guarantees-clarified",children:(0,t.jsx)(n.strong,{children:"10. Failure Modes & Guarantees (Clarified)"})}),"\n",(0,t.jsx)(n.h3,{id:"policy-evaluator-unavailable",children:(0,t.jsx)(n.strong,{children:"Policy Evaluator Unavailable"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"HIGH materiality \u2192 fail closed"}),"\n",(0,t.jsx)(n.li,{children:"MEDIUM materiality \u2192 configurable"}),"\n",(0,t.jsx)(n.li,{children:"LOW materiality \u2192 fail open allowed"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"All failures emit explicit execution events."}),"\n",(0,t.jsx)(n.h3,{id:"determinism-guarantee",children:(0,t.jsx)(n.strong,{children:"Determinism Guarantee"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Policy inputs are immutable snapshots"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"policy_version_id"})," is recorded with every evaluation"]}),"\n",(0,t.jsxs)(n.li,{children:["Replay uses the ",(0,t.jsx)(n.strong,{children:"same policy version"}),", never the latest"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"This prevents replay drift under policy evolution."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"11-extending-beyond-opa",children:(0,t.jsx)(n.strong,{children:"11. Extending Beyond OPA"})}),"\n",(0,t.jsx)(n.p,{children:"Because Gantral depends only on the policy interface:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Enterprises may replace OPA with internal policy engines"}),"\n",(0,t.jsx)(n.li,{children:"Regulators may mandate specific evaluators"}),"\n",(0,t.jsx)(n.li,{children:"Multiple evaluators may coexist"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Gantral remains unchanged."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"12-how-and-where-to-use-this-guide",children:(0,t.jsx)(n.strong,{children:"12. How and Where to Use This Guide"})}),"\n",(0,t.jsx)(n.h3,{id:"who-should-read-this",children:(0,t.jsx)(n.strong,{children:"Who Should Read This"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Contributors implementing the policy layer"}),"\n",(0,t.jsx)(n.li,{children:"Enterprises deploying self-hosted Gantral"}),"\n",(0,t.jsx)(n.li,{children:"Security and compliance reviewers"}),"\n",(0,t.jsx)(n.li,{children:"Partners building adapters or extensions"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"where-this-guide-lives",children:(0,t.jsx)(n.strong,{children:"Where This Guide Lives"})}),"\n",(0,t.jsx)(n.p,{children:"Recommended locations:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"/docs/implementation/policy-evaluation-opa.md"})}),"\n",(0,t.jsx)(n.li,{children:"Public documentation site (advanced section)"}),"\n",(0,t.jsx)(n.li,{children:"Reference repository README"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"when-to-use-it",children:(0,t.jsx)(n.strong,{children:"When to Use It"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"After reading the TRD"}),"\n",(0,t.jsx)(n.li,{children:"Before implementing the policy layer"}),"\n",(0,t.jsx)(n.li,{children:"During enterprise architecture reviews"}),"\n",(0,t.jsx)(n.li,{children:"During audits to explain policy\u2013execution separation"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"13-final-reminder",children:(0,t.jsx)(n.strong,{children:"13. Final Reminder"})}),"\n",(0,t.jsxs)(n.p,{children:["OPA is an ",(0,t.jsx)(n.strong,{children:"implementation choice"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Gantral is the ",(0,t.jsx)(n.strong,{children:"execution authority"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"Humans remain accountable."}),"\n",(0,t.jsx)(n.p,{children:"This guide exists to help teams build correctly \u2014 not to redefine the system."})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453(e,n,i){i.d(n,{R:()=>l,x:()=>o});var s=i(6540);const t={},r=s.createContext(t);function l(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);