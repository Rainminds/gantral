"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[8122],{8453(n,e,i){i.d(e,{R:()=>l,x:()=>c});var s=i(6540);const r={},t=s.createContext(r);function l(n){const e=s.useContext(t);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:l(n.components),s.createElement(t.Provider,{value:e},n.children)}},9811(n,e,i){i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"architecture/trd","title":"Technical Reference & Architecture Document","description":"Version: v4.0 (Federated Execution, Authority-First, Agent-Native Persistence)","source":"@site/../docs/architecture/trd.md","sourceDirName":"architecture","slug":"/architecture/trd","permalink":"/architecture/trd","draft":false,"unlisted":false,"editUrl":"https://github.com/Rainminds/gantral/tree/main/../docs/architecture/trd.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Technical Reference & Architecture Document"},"sidebar":"tutorialSidebar","previous":{"title":"Executive Briefings","permalink":"/executive/"},"next":{"title":"State Machine","permalink":"/architecture/state-machine"}}');var r=i(4848),t=i(8453);const l={sidebar_position:1,title:"Technical Reference & Architecture Document"},c=void 0,a={},o=[{value:"<strong>Purpose</strong>",id:"purpose",level:2},{value:"Purpose",id:"purpose-1",level:2},{value:"1. Scope &amp; Non-Goals",id:"1-scope--non-goals",level:2},{value:"1.1 What Gantral Is (Technical Definition)",id:"11-what-gantral-is-technical-definition",level:3},{value:"1.2 Explicit Non-Goals (Hard Exclusions)",id:"12-explicit-non-goals-hard-exclusions",level:3},{value:"2. Architectural Invariants (Non-Negotiable)",id:"2-architectural-invariants-non-negotiable",level:2},{value:"Agent-Native Persistence (Critical Invariant)",id:"agent-native-persistence-critical-invariant",level:3},{value:"3. High-Level Architecture",id:"3-high-level-architecture",level:2},{value:"3.1 Responsibility Layers",id:"31-responsibility-layers",level:3},{value:"<strong>1. Scope &amp; Non-Goals</strong>",id:"1-scope--non-goals-1",level:2},{value:"<strong>1.1 What Gantral Is (Technical Definition)</strong>",id:"11-what-gantral-is-technical-definition-1",level:3},{value:"<strong>1.2 Explicit Non-Goals (Hard Exclusions)</strong>",id:"12-explicit-non-goals-hard-exclusions-1",level:3},{value:"<strong>2. Architectural Invariants (Non-Negotiable)</strong>",id:"2-architectural-invariants-non-negotiable-1",level:2},{value:"<strong>New Invariant \u2013 Agent-Native Persistence (Critical)</strong>",id:"new-invariant--agent-native-persistence-critical",level:3},{value:"<strong>3. High-Level Architecture</strong>",id:"3-high-level-architecture-1",level:2},{value:"<strong>3.1 Logical Architecture Layers</strong>",id:"31-logical-architecture-layers",level:3},{value:"<strong>3.2 Runtime Model (Authoritative)</strong>",id:"32-runtime-model-authoritative",level:3},{value:"<strong>3.3 Execution Plane Responsibility Boundary</strong>",id:"33-execution-plane-responsibility-boundary",level:3},{value:"<strong>3.4 Execution Readiness vs Execution State</strong>",id:"34-execution-readiness-vs-execution-state",level:3},{value:"<strong>4. Core Domain Model</strong>",id:"4-core-domain-model",level:2},{value:"<strong>4.1 Core Entities</strong>",id:"41-core-entities",level:3},{value:"<strong>4.2 Identity &amp; Integration Entities</strong>",id:"42-identity--integration-entities",level:3},{value:"<strong>5. Execution State Machine</strong>",id:"5-execution-state-machine",level:2},{value:"<strong>5.1 Canonical States</strong>",id:"51-canonical-states",level:3},{value:"<strong>5.2 State Guarantees</strong>",id:"52-state-guarantees",level:3},{value:"<strong>5.3 Policy Evaluation Semantics (Critical)</strong>",id:"53-policy-evaluation-semantics-critical",level:3},{value:"<strong>6. Policy Interface &amp; Evaluation Layer</strong>",id:"6-policy-interface--evaluation-layer",level:2},{value:"<strong>6.1 Policy Interface Characteristics</strong>",id:"61-policy-interface-characteristics",level:3},{value:"<strong>6.2 Responsibility Split</strong>",id:"62-responsibility-split",level:3},{value:"<strong>7. Determinism &amp; Replay Model</strong>",id:"7-determinism--replay-model",level:2},{value:"<strong>7.1 Replay Semantics</strong>",id:"71-replay-semantics",level:3},{value:"<strong>7.2 Responsibility Boundary</strong>",id:"72-responsibility-boundary",level:3},{value:"<strong>8. APIs &amp; SDKs</strong>",id:"8-apis--sdks",level:2},{value:"<strong>9. Repository Structure</strong>",id:"9-repository-structure",level:2},{value:"<strong>10. Data Stores</strong>",id:"10-data-stores",level:2},{value:"<strong>11. Security Architecture</strong>",id:"11-security-architecture",level:2},{value:"<strong>12. Privacy &amp; Compliance</strong>",id:"12-privacy--compliance",level:2},{value:"<strong>13. Infrastructure &amp; IaC</strong>",id:"13-infrastructure--iac",level:2},{value:"<strong>14. Standards &amp; Interoperability</strong>",id:"14-standards--interoperability",level:2},{value:"<strong>15. Licensing &amp; Governance</strong>",id:"15-licensing--governance",level:2},{value:"<strong>16. Final Principle</strong>",id:"16-final-principle",level:2}];function d(n){const e={blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Version:"})," v4.0 (Federated Execution, Authority-First, Agent-Native Persistence)"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Status:"})," Living technical reference (authoritative)"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Audience:"})," Core contributors, platform engineers, security reviewers, enterprise architects"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"purpose",children:(0,r.jsx)(e.strong,{children:"Purpose"})}),"\n",(0,r.jsx)(e.h1,{id:"gantral--technical-reference--architecture-document-trd",children:"Gantral \u2014 Technical Reference & Architecture Document (TRD)"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Version:"})," v4.0 (Federated Execution, Authority-First, Agent-Native Persistence)",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.strong,{children:"Status:"})," Living technical reference (authoritative)",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.strong,{children:"Audience:"})," Core contributors, platform engineers, security reviewers, enterprise architects"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"purpose-1",children:"Purpose"}),"\n",(0,r.jsxs)(e.p,{children:["This document is the ",(0,r.jsx)(e.strong,{children:"technical constitution"})," of the Gantral open-source core."]}),"\n",(0,r.jsxs)(e.p,{children:["It defines the architectural invariants, execution semantics, responsibility boundaries, and control guarantees that ",(0,r.jsx)(e.strong,{children:"must hold across all implementations"}),"."]}),"\n",(0,r.jsxs)(e.p,{children:["Gantral deliberately separates ",(0,r.jsx)(e.strong,{children:"execution authority"})," from ",(0,r.jsx)(e.strong,{children:"agent reasoning and memory"}),"."]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"If an implementation conflicts with this document, the implementation is incorrect."})}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"1-scope--non-goals",children:"1. Scope & Non-Goals"}),"\n",(0,r.jsx)(e.h3,{id:"11-what-gantral-is-technical-definition",children:"1.1 What Gantral Is (Technical Definition)"}),"\n",(0,r.jsxs)(e.p,{children:["Gantral is an ",(0,r.jsx)(e.strong,{children:"AI Execution Control Plane"})," that standardizes how AI-assisted and agentic workflows:"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Execute"}),"\n",(0,r.jsx)(e.li,{children:"Pause for human authority"}),"\n",(0,r.jsx)(e.li,{children:"Escalate"}),"\n",(0,r.jsx)(e.li,{children:"Resume"}),"\n",(0,r.jsx)(e.li,{children:"Terminate"}),"\n",(0,r.jsx)(e.li,{children:"Are audited"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"across teams, domains, and systems."}),"\n",(0,r.jsx)(e.p,{children:"Technically, Gantral provides:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"A deterministic, instance-first execution state machine"}),"\n",(0,r.jsx)(e.li,{children:"Human-in-the-Loop (HITL) as a first-class execution state"}),"\n",(0,r.jsx)(e.li,{children:"Instance-level isolation for audit, cost, and accountability"}),"\n",(0,r.jsx)(e.li,{children:"Declarative control policies for materiality, authority, and escalation"}),"\n",(0,r.jsxs)(e.li,{children:["A ",(0,r.jsx)(e.strong,{children:"pluggable policy evaluation interface"})," (advisory only)"]}),"\n",(0,r.jsxs)(e.li,{children:["Control APIs and SDKs that sit ",(0,r.jsx)(e.strong,{children:"above agent frameworks and below enterprise systems"})]}),"\n",(0,r.jsx)(e.li,{children:"Deterministic execution and replay guarantees via a workflow runtime"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["Gantral is ",(0,r.jsx)(e.strong,{children:"domain-agnostic by design"}),".",(0,r.jsx)(e.br,{}),"\n","SDLC workflows are an initial wedge, not the boundary."]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"12-explicit-non-goals-hard-exclusions",children:"1.2 Explicit Non-Goals (Hard Exclusions)"}),"\n",(0,r.jsxs)(e.p,{children:["Gantral will ",(0,r.jsx)(e.strong,{children:"not"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Build, host, or orchestrate AI agents"}),"\n",(0,r.jsx)(e.li,{children:"Encode domain-specific business logic"}),"\n",(0,r.jsx)(e.li,{children:"Manage agent prompts, plans, or internal memory"}),"\n",(0,r.jsx)(e.li,{children:"Serialize or persist agent internal state"}),"\n",(0,r.jsx)(e.li,{children:"Optimize, train, or fine-tune models"}),"\n",(0,r.jsx)(e.li,{children:"Provide autonomous decision loops"}),"\n",(0,r.jsx)(e.li,{children:"Make probabilistic decisions without human accountability"}),"\n",(0,r.jsx)(e.li,{children:"Replace CI/CD, ITSM, ticketing, or enterprise systems"}),"\n",(0,r.jsx)(e.li,{children:"Store raw secrets or credentials"}),"\n",(0,r.jsx)(e.li,{children:"Act as an identity provider"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"2-architectural-invariants-non-negotiable",children:"2. Architectural Invariants (Non-Negotiable)"}),"\n",(0,r.jsx)(e.p,{children:"The following invariants must hold across all implementations:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Instance-first semantics"}),(0,r.jsx)(e.br,{}),"\n","All audit, cost, authority, and replay semantics attach to immutable execution instances"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"HITL is a state transition"}),(0,r.jsx)(e.br,{}),"\n","Human intervention is modeled inside the execution graph, not as an external approval"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Human authority is final"}),(0,r.jsx)(e.br,{}),"\n","AI output is advisory; policy-enforced human decisions override AI"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Determinism > performance"}),(0,r.jsx)(e.br,{}),"\n","Replayability and auditability take precedence over latency"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Declarative control"}),(0,r.jsx)(e.br,{}),"\n","Materiality, authority, and escalation rules are configuration, not embedded logic"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Adapters contain no business logic"}),(0,r.jsx)(e.br,{}),"\n","Integrations emit events and receive decisions only"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Identity federation required"}),(0,r.jsx)(e.br,{}),"\n","Identity is derived from upstream IdPs; Gantral maintains no user directory"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"No secret persistence"}),(0,r.jsx)(e.br,{}),"\n","Gantral stores references only; secrets resolve at execution edges"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"agent-native-persistence-critical-invariant",children:"Agent-Native Persistence (Critical Invariant)"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Execution vs Agent State Separation"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Gantral owns execution state (",(0,r.jsx)(e.code,{children:"RUNNING"}),", ",(0,r.jsx)(e.code,{children:"WAITING_FOR_HUMAN"}),", etc.)"]}),"\n",(0,r.jsx)(e.li,{children:"Agent frameworks own agent internal state (memory, plans, tools)"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Checkpointability Requirement"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Agents ",(0,r.jsx)(e.strong,{children:"must"})," be restartable from externally persisted checkpoints"]}),"\n",(0,r.jsx)(e.li,{children:"Agent state persistence is handled by the agent framework (DB, object storage)"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"No Agent State in Gantral"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Agent internal state must never be serialized into Gantral execution history"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["Violating these invariants ",(0,r.jsx)(e.strong,{children:"invalidates the system"}),"."]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"3-high-level-architecture",children:"3. High-Level Architecture"}),"\n",(0,r.jsx)(e.h3,{id:"31-responsibility-layers",children:"3.1 Responsibility Layers"}),"\n",(0,r.jsx)(e.mermaid,{value:'flowchart TB\n    ES["Enterprise Systems\\n(GitHub, Jira, CI/CD,\\nServiceNow, Custom Apps)"]\n\n    G["Gantral Control Plane\\nExecution Engine\\nHITL State Machine\\nPolicy Interface\\nAudit Semantics"]\n\n    A["Agent Frameworks & Runners\\nReasoning, Memory, Tool Execution"]\n\n    ES --\x3e|Events / Decisions| G\n    G --\x3e|Control APIs| A'}),"\n",(0,r.jsxs)(e.p,{children:["This document is the ",(0,r.jsx)(e.strong,{children:"technical constitution"})," of the Gantral open-source core. It defines the architectural invariants, execution semantics, responsibility boundaries, and control guarantees that ",(0,r.jsx)(e.strong,{children:"must"})," hold across all implementations."]}),"\n",(0,r.jsxs)(e.p,{children:["Gantral deliberately separates ",(0,r.jsx)(e.strong,{children:"execution authority"})," from ",(0,r.jsx)(e.strong,{children:"agent reasoning and memory"}),"."]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"If an implementation conflicts with this document, the implementation is incorrect."})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"1-scope--non-goals-1",children:(0,r.jsx)(e.strong,{children:"1. Scope & Non-Goals"})}),"\n",(0,r.jsx)(e.h3,{id:"11-what-gantral-is-technical-definition-1",children:(0,r.jsx)(e.strong,{children:"1.1 What Gantral Is (Technical Definition)"})}),"\n",(0,r.jsxs)(e.p,{children:["Gantral is an ",(0,r.jsx)(e.strong,{children:"AI Execution Control Plane"})," that standardizes how AI-assisted and agentic workflows ",(0,r.jsx)(e.strong,{children:"execute, pause, escalate, resume, and are audited"})," across teams, domains, and systems."]}),"\n",(0,r.jsx)(e.p,{children:"Technically, Gantral provides:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"A deterministic, instance-first execution state machine"}),"\n",(0,r.jsx)(e.li,{children:"Human-in-the-Loop (HITL) as a first-class execution state"}),"\n",(0,r.jsx)(e.li,{children:"Instance-level isolation for audit, cost, and accountability"}),"\n",(0,r.jsx)(e.li,{children:"Declarative control policies for materiality, authority, and escalation"}),"\n",(0,r.jsxs)(e.li,{children:["A ",(0,r.jsx)(e.strong,{children:"pluggable policy evaluation interface"})," (advisory only)"]}),"\n",(0,r.jsxs)(e.li,{children:["Control APIs and SDKs that sit ",(0,r.jsx)(e.strong,{children:"above agent frameworks and below enterprise systems"})]}),"\n",(0,r.jsx)(e.li,{children:"Deterministic execution and replay guarantees via a workflow runtime"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"Gantral is domain-agnostic by design. SDLC workflows are an initial wedge, not the boundary."}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"12-explicit-non-goals-hard-exclusions-1",children:(0,r.jsx)(e.strong,{children:"1.2 Explicit Non-Goals (Hard Exclusions)"})}),"\n",(0,r.jsxs)(e.p,{children:["Gantral will ",(0,r.jsx)(e.strong,{children:"not"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Build, host, or orchestrate AI agents"}),"\n",(0,r.jsx)(e.li,{children:"Encode domain-specific business logic"}),"\n",(0,r.jsx)(e.li,{children:"Manage agent prompts, plans, or internal memory"}),"\n",(0,r.jsx)(e.li,{children:"Serialize or persist agent internal state"}),"\n",(0,r.jsx)(e.li,{children:"Optimize, train, or fine-tune models"}),"\n",(0,r.jsx)(e.li,{children:"Provide autonomous decision loops"}),"\n",(0,r.jsx)(e.li,{children:"Make probabilistic decisions without human accountability"}),"\n",(0,r.jsx)(e.li,{children:"Replace CI/CD, ITSM, ticketing, or enterprise systems"}),"\n",(0,r.jsx)(e.li,{children:"Store raw secrets or credentials"}),"\n",(0,r.jsx)(e.li,{children:"Act as an identity provider"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"2-architectural-invariants-non-negotiable-1",children:(0,r.jsx)(e.strong,{children:"2. Architectural Invariants (Non-Negotiable)"})}),"\n",(0,r.jsx)(e.p,{children:"The following invariants must hold across all implementations:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Instance-first semantics:"})," All audit, cost, authority, and replay semantics attach to immutable execution instances"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"HITL is a state transition:"})," Human intervention is modeled inside the execution graph, not as an external approval"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Human authority is final:"})," AI output is advisory; policy-enforced human decisions override AI"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Determinism > performance:"})," Replayability and auditability take precedence over latency"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Declarative control:"})," Materiality, authority, and escalation rules are configuration, not embedded logic"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Adapters contain no business logic:"})," Integrations emit events and receive decisions only"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Identity federation required:"})," Gantral must not maintain a standalone user directory; identity is derived from upstream IdPs"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"No secret persistence:"})," Gantral stores only secret references; resolution occurs at execution edges"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"new-invariant--agent-native-persistence-critical",children:(0,r.jsx)(e.strong,{children:"New Invariant \u2013 Agent-Native Persistence (Critical)"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Execution State vs Agent State Separation:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Gantral owns ",(0,r.jsx)(e.strong,{children:"execution state"})," (RUNNING, WAITING_FOR_HUMAN, etc.)"]}),"\n",(0,r.jsxs)(e.li,{children:["Agent frameworks own ",(0,r.jsx)(e.strong,{children:"agent internal state"})," (memory, plans, tool context)"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Checkpointability Requirement:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Agents integrated with Gantral ",(0,r.jsx)(e.strong,{children:"must be restartable"})," from an externally persisted checkpoint when execution resumes"]}),"\n",(0,r.jsx)(e.li,{children:"Agent internal state must be durably persisted by the agent framework (e.g. DB, object storage)"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"No Agent State in Gantral:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Agent internal state must never be serialized into Gantral execution history"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"Violating these invariants invalidates the system."}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"3-high-level-architecture-1",children:(0,r.jsx)(e.strong,{children:"3. High-Level Architecture"})}),"\n",(0,r.jsx)(e.h3,{id:"31-logical-architecture-layers",children:(0,r.jsx)(e.strong,{children:"3.1 Logical Architecture Layers"})}),"\n",(0,r.jsxs)(e.p,{children:["+--------------------------------------------------+",(0,r.jsx)(e.br,{}),"\n","| Enterprise Systems                               |",(0,r.jsx)(e.br,{}),"\n","| (GitHub, Jira, Slack, ServiceNow, Custom Apps)   |",(0,r.jsx)(e.br,{}),"\n","+------------------------\u25b2-------------------------+",(0,r.jsx)(e.br,{}),"\n","| Events / Decisions",(0,r.jsx)(e.br,{}),"\n","+------------------------|-------------------------+",(0,r.jsx)(e.br,{}),"\n","| Gantral Control Plane  |                         |",(0,r.jsx)(e.br,{}),"\n","|  - Execution Engine    |                         |",(0,r.jsx)(e.br,{}),"\n","|  - HITL State Machine  |                         |",(0,r.jsx)(e.br,{}),"\n","|  - Policy Interface   |                         |",(0,r.jsx)(e.br,{}),"\n","|  - Instance Registry  |                         |",(0,r.jsx)(e.br,{}),"\n","|  - Audit Semantics    |                         |",(0,r.jsx)(e.br,{}),"\n","+------------------------\u25b2-------------------------+",(0,r.jsx)(e.br,{}),"\n","| SDK / API",(0,r.jsx)(e.br,{}),"\n","+------------------------|-------------------------+",(0,r.jsx)(e.br,{}),"\n","| Agent Frameworks &     |                         |",(0,r.jsx)(e.br,{}),"\n","| Runners (Distributed)  |                         |",(0,r.jsx)(e.br,{}),"\n","+--------------------------------------------------+"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"32-runtime-model-authoritative",children:(0,r.jsx)(e.strong,{children:"3.2 Runtime Model (Authoritative)"})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"Trigger received (event, schedule, external signal)"}),"\n",(0,r.jsx)(e.li,{children:"Workflow template selected"}),"\n",(0,r.jsxs)(e.li,{children:["Instance created (immutable ",(0,r.jsx)(e.code,{children:"instance_id"}),")"]}),"\n",(0,r.jsx)(e.li,{children:"Execution proceeds inside a deterministic workflow runtime"}),"\n",(0,r.jsxs)(e.li,{children:["Policy evaluation performed ",(0,r.jsx)(e.strong,{children:"as a transition guard"})]}),"\n",(0,r.jsxs)(e.li,{children:["Execution continues or transitions to ",(0,r.jsx)(e.code,{children:"WAITING_FOR_HUMAN"})]}),"\n",(0,r.jsx)(e.li,{children:"Agent framework persists internal state and suspends execution"}),"\n",(0,r.jsx)(e.li,{children:"Human decision captured (if required)"}),"\n",(0,r.jsx)(e.li,{children:"Execution resumes or terminates via a new process"}),"\n",(0,r.jsx)(e.li,{children:"Audit record sealed"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"33-execution-plane-responsibility-boundary",children:(0,r.jsx)(e.strong,{children:"3.3 Execution Plane Responsibility Boundary"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Gantral owns:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Execution state"}),"\n",(0,r.jsx)(e.li,{children:"Authority transitions"}),"\n",(0,r.jsx)(e.li,{children:"Time, retries, escalation, and replay"}),"\n",(0,r.jsx)(e.li,{children:"Audit correctness"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Agent frameworks own:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Reasoning, planning, and tool execution"}),"\n",(0,r.jsx)(e.li,{children:"Agent memory and conversation history"}),"\n",(0,r.jsx)(e.li,{children:"Internal checkpoints and resume logic"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Runners:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Execute agent processes"}),"\n",(0,r.jsx)(e.li,{children:"Detect completion, failure, or suspension"}),"\n",(0,r.jsx)(e.li,{children:"Translate agent lifecycle signals into Gantral execution events"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["Agents ",(0,r.jsx)(e.strong,{children:"cannot"})," advance execution past governed states independently."]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"34-execution-readiness-vs-execution-state",children:(0,r.jsx)(e.strong,{children:"3.4 Execution Readiness vs Execution State"})}),"\n",(0,r.jsxs)(e.p,{children:["Gantral distinguishes between ",(0,r.jsx)(e.strong,{children:"execution state"})," and ",(0,r.jsx)(e.strong,{children:"execution readiness"}),"."]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Execution State"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Canonical and immutable"}),"\n",(0,r.jsx)(e.li,{children:"Persisted and auditable"}),"\n",(0,r.jsx)(e.li,{children:"Used for compliance and replay"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Execution Readiness"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Derived and transient"}),"\n",(0,r.jsx)(e.li,{children:"Evaluated continuously"}),"\n",(0,r.jsx)(e.li,{children:"Not persisted"}),"\n",(0,r.jsx)(e.li,{children:"Not part of the state machine"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"Formally:"}),"\n",(0,r.jsxs)(e.p,{children:["runnable(instance) =",(0,r.jsx)(e.br,{}),"\n","execution_state == RUNNING",(0,r.jsx)(e.br,{}),"\n","AND no pending HITL decisions",(0,r.jsx)(e.br,{}),"\n","AND no policy blocks",(0,r.jsx)(e.br,{}),"\n","AND execution plane capacity available"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"4-core-domain-model",children:(0,r.jsx)(e.strong,{children:"4. Core Domain Model"})}),"\n",(0,r.jsx)(e.h3,{id:"41-core-entities",children:(0,r.jsx)(e.strong,{children:"4.1 Core Entities"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Workflow (Template)"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"workflow_id"}),", ",(0,r.jsx)(e.code,{children:"version"})]}),"\n",(0,r.jsx)(e.li,{children:"Step graph"}),"\n",(0,r.jsx)(e.li,{children:"Trigger definitions"}),"\n",(0,r.jsx)(e.li,{children:"Policy references"}),"\n",(0,r.jsx)(e.li,{children:"Materiality level"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Instance (Execution)"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Immutable ",(0,r.jsx)(e.code,{children:"instance_id"})]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"workflow_id"})," + ",(0,r.jsx)(e.code,{children:"version"})]}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"owning_team_id"})}),"\n",(0,r.jsx)(e.li,{children:"Trigger context"}),"\n",(0,r.jsx)(e.li,{children:"Execution state"}),"\n",(0,r.jsx)(e.li,{children:"Timestamps"}),"\n",(0,r.jsx)(e.li,{children:"Cost metadata"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"HITL Decision"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"decision_id"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"instance_id"})}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"decision_type"})," (APPROVE / REJECT / OVERRIDE)"]}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"human_actor_id"})}),"\n",(0,r.jsx)(e.li,{children:"Role"}),"\n",(0,r.jsx)(e.li,{children:"Justification"}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"context_snapshot"})}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"context_delta"})," (required for OVERRIDE)"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"42-identity--integration-entities",children:(0,r.jsx)(e.strong,{children:"4.2 Identity & Integration Entities"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Service Identity (System Account)"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"identity_id"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"owner_team_id"})}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"external_principal_map"})," (AWS IAM role, K8s service account, etc.)"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Connection (Resource Binding)"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"connection_id"})}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"type"})," (e.g. postgres, github, salesforce)"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"config_ref"})," (e.g. ",(0,r.jsx)(e.code,{children:"vault://path/to/secret"}),")"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Runner (Execution Node)"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"runner_id"})}),"\n",(0,r.jsx)(e.li,{children:"Subscribed task queues"}),"\n",(0,r.jsx)(e.li,{children:"Capabilities metadata (network zone, GPU, OS)"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"5-execution-state-machine",children:(0,r.jsx)(e.strong,{children:"5. Execution State Machine"})}),"\n",(0,r.jsx)(e.h3,{id:"51-canonical-states",children:(0,r.jsx)(e.strong,{children:"5.1 Canonical States"})}),"\n",(0,r.jsxs)(e.p,{children:["CREATED",(0,r.jsx)(e.br,{}),"\n","\u2193",(0,r.jsx)(e.br,{}),"\n","RUNNING",(0,r.jsx)(e.br,{}),"\n","\u2193 (policy requires human authority)",(0,r.jsx)(e.br,{}),"\n","WAITING_FOR_HUMAN",(0,r.jsx)(e.br,{}),"\n","\u2199     \u2193      \u2198",(0,r.jsx)(e.br,{}),"\n","OVERRIDDEN  APPROVED  REJECTED",(0,r.jsx)(e.br,{}),"\n","\u2193         \u2193          \u2193",(0,r.jsx)(e.br,{}),"\n","RESUMED   RESUMED   TERMINATED",(0,r.jsx)(e.br,{}),"\n","\u2193",(0,r.jsx)(e.br,{}),"\n","COMPLETED"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"52-state-guarantees",children:(0,r.jsx)(e.strong,{children:"5.2 State Guarantees"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"State transitions are append-only"}),"\n",(0,r.jsx)(e.li,{children:"No in-place mutation"}),"\n",(0,r.jsx)(e.li,{children:"Every transition is timestamped and signed"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"53-policy-evaluation-semantics-critical",children:(0,r.jsx)(e.strong,{children:"5.3 Policy Evaluation Semantics (Critical)"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Policy evaluation does ",(0,r.jsx)(e.strong,{children:"not"})," introduce a new execution state"]}),"\n",(0,r.jsx)(e.li,{children:"Evaluation occurs synchronously during state transitions"}),"\n",(0,r.jsxs)(e.li,{children:["Results determine whether execution continues or transitions to ",(0,r.jsx)(e.code,{children:"WAITING_FOR_HUMAN"})]}),"\n",(0,r.jsxs)(e.li,{children:["Policy engines ",(0,r.jsx)(e.strong,{children:"never"})," hold authority"]}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["Policy checks are ",(0,r.jsx)(e.strong,{children:"transition guards"}),", not durable states."]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"6-policy-interface--evaluation-layer",children:(0,r.jsx)(e.strong,{children:"6. Policy Interface & Evaluation Layer"})}),"\n",(0,r.jsx)(e.h3,{id:"61-policy-interface-characteristics",children:(0,r.jsx)(e.strong,{children:"6.1 Policy Interface Characteristics"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Pluggable and replaceable"}),"\n",(0,r.jsx)(e.li,{children:"Deterministic and side-effect free"}),"\n",(0,r.jsx)(e.li,{children:"Evaluated at runtime"}),"\n",(0,r.jsx)(e.li,{children:"Versioned and auditable"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"62-responsibility-split",children:(0,r.jsx)(e.strong,{children:"6.2 Responsibility Split"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Gantral owns:"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Policy semantics"}),"\n",(0,r.jsx)(e.li,{children:"Execution control"}),"\n",(0,r.jsx)(e.li,{children:"Authority transitions"}),"\n",(0,r.jsx)(e.li,{children:"Audit semantics"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Policy evaluators provide:"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Allow / deny / require-human signals"}),"\n",(0,r.jsx)(e.li,{children:"Approver eligibility"}),"\n",(0,r.jsx)(e.li,{children:"Escalation and timeout signals"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"7-determinism--replay-model",children:(0,r.jsx)(e.strong,{children:"7. Determinism & Replay Model"})}),"\n",(0,r.jsxs)(e.p,{children:["Gantral guarantees deterministic replay of ",(0,r.jsx)(e.strong,{children:"execution decisions"}),"."]}),"\n",(0,r.jsxs)(e.p,{children:["This guarantee is enforced by executing Gantral workflows on a ",(0,r.jsx)(e.strong,{children:"deterministic workflow runtime"})," (e.g. Temporal)."]}),"\n",(0,r.jsx)(e.h3,{id:"71-replay-semantics",children:(0,r.jsx)(e.strong,{children:"7.1 Replay Semantics"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Replay re-executes workflow logic from recorded execution history"}),"\n",(0,r.jsx)(e.li,{children:"Identical inputs, events, and policy versions must yield identical outcomes"}),"\n",(0,r.jsxs)(e.li,{children:["Replay does ",(0,r.jsx)(e.strong,{children:"not"})," rehydrate agent internal memory"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"72-responsibility-boundary",children:(0,r.jsx)(e.strong,{children:"7.2 Responsibility Boundary"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Gantral defines ",(0,r.jsx)(e.strong,{children:"what must be replayable"})," (authority and decisions)"]}),"\n",(0,r.jsxs)(e.li,{children:["The workflow runtime defines ",(0,r.jsx)(e.strong,{children:"how replay occurs"})]}),"\n",(0,r.jsx)(e.li,{children:"Agent frameworks may optionally replay internal reasoning for debugging only"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["Gantral does ",(0,r.jsx)(e.strong,{children:"not"})," implement a separate replay engine."]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"8-apis--sdks",children:(0,r.jsx)(e.strong,{children:"8. APIs & SDKs"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"REST and gRPC APIs (OpenAPI 3.1)"}),"\n",(0,r.jsxs)(e.li,{children:["Core API groups:","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"/workflows"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"/instances"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"/decisions"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"/policies"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.code,{children:"/audit"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["SDKs are ",(0,r.jsx)(e.strong,{children:"thin wrappers"}),"; all logic remains server-side."]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"9-repository-structure",children:(0,r.jsx)(e.strong,{children:"9. Repository Structure"})}),"\n",(0,r.jsxs)(e.p,{children:["/gantral",(0,r.jsx)(e.br,{}),"\n","/docs",(0,r.jsx)(e.br,{}),"\n","/specs",(0,r.jsx)(e.br,{}),"\n","/core",(0,r.jsx)(e.br,{}),"\n","/engine",(0,r.jsx)(e.br,{}),"\n","/policy",(0,r.jsx)(e.br,{}),"\n","/hitl",(0,r.jsx)(e.br,{}),"\n","/audit",(0,r.jsx)(e.br,{}),"\n","/api",(0,r.jsx)(e.br,{}),"\n","/sdk",(0,r.jsx)(e.br,{}),"\n","/python",(0,r.jsx)(e.br,{}),"\n","/go",(0,r.jsx)(e.br,{}),"\n","/typescript",(0,r.jsx)(e.br,{}),"\n","/adapters",(0,r.jsx)(e.br,{}),"\n","/infra",(0,r.jsx)(e.br,{}),"\n","/tests"]}),"\n",(0,r.jsx)(e.p,{children:"Principles:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Specs first"}),"\n",(0,r.jsx)(e.li,{children:"Code follows spec"}),"\n",(0,r.jsx)(e.li,{children:"No UI in OSS core"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"10-data-stores",children:(0,r.jsx)(e.strong,{children:"10. Data Stores"})}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Purpose"}),(0,r.jsx)(e.th,{children:"Technology"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Execution state"}),(0,r.jsx)(e.td,{children:"Event-sourced workflow history"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Immutable logs"}),(0,r.jsx)(e.td,{children:"Append-only log store"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Snapshots"}),(0,r.jsx)(e.td,{children:"Object storage (S3-compatible)"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Caching"}),(0,r.jsx)(e.td,{children:"Redis (optional)"})]})]})]}),"\n",(0,r.jsxs)(e.p,{children:["Agent internal state stores are ",(0,r.jsx)(e.strong,{children:"explicitly out of scope"}),"."]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"11-security-architecture",children:(0,r.jsx)(e.strong,{children:"11. Security Architecture"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Identity: OAuth 2.0 / OIDC (federated)"}),"\n",(0,r.jsx)(e.li,{children:"Authorization: Policy-driven RBAC"}),"\n",(0,r.jsx)(e.li,{children:"Secrets: External secret managers only"}),"\n",(0,r.jsx)(e.li,{children:"Audit: 100% decision capture, tamper-evident logs"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"12-privacy--compliance",children:(0,r.jsx)(e.strong,{children:"12. Privacy & Compliance"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Data minimization by default"}),"\n",(0,r.jsx)(e.li,{children:"Configurable redaction"}),"\n",(0,r.jsx)(e.li,{children:"Self-hosted and air-gapped deployments supported"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["Compliance is a ",(0,r.jsx)(e.strong,{children:"structural property"})," of the execution model."]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"13-infrastructure--iac",children:(0,r.jsx)(e.strong,{children:"13. Infrastructure & IaC"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Deployment: Kubernetes (primary), Docker Compose (dev)"}),"\n",(0,r.jsx)(e.li,{children:"Workflow runtime: Temporal"}),"\n",(0,r.jsx)(e.li,{children:"IaC: Terraform, Helm"}),"\n",(0,r.jsx)(e.li,{children:"Observability: OpenTelemetry, Prometheus, structured logs"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"14-standards--interoperability",children:(0,r.jsx)(e.strong,{children:"14. Standards & Interoperability"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"OpenAPI 3.1"}),"\n",(0,r.jsx)(e.li,{children:"OpenTelemetry"}),"\n",(0,r.jsx)(e.li,{children:"OAuth 2.0 / OIDC"}),"\n",(0,r.jsx)(e.li,{children:"CNCF-aligned design principles"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"15-licensing--governance",children:(0,r.jsx)(e.strong,{children:"15. Licensing & Governance"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"License: Apache 2.0"}),"\n",(0,r.jsx)(e.li,{children:"Governance: Maintainer-led with public RFCs"}),"\n",(0,r.jsx)(e.li,{children:"No dual-license bait-and-switch"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"16-final-principle",children:(0,r.jsx)(e.strong,{children:"16. Final Principle"})}),"\n",(0,r.jsx)(e.p,{children:"Gantral is not about what AI can do."}),"\n",(0,r.jsx)(e.p,{children:"It is about what organizations are willing to allow AI to do \u2014 and how they prove it."}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"This document is the reference."})})]})}function h(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}}}]);