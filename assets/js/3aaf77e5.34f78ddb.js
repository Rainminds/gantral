"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[8122],{8453(e,n,i){i.d(n,{R:()=>l,x:()=>a});var t=i(6540);const r={},s=t.createContext(r);function l(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),t.createElement(s.Provider,{value:n},e.children)}},9811(e,n,i){i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"architecture/trd","title":"Technical Reference Document","description":"Version: v4.1 (Authority-First, Verifiable Execution, Atomic Evidence)","source":"@site/../docs/architecture/trd.md","sourceDirName":"architecture","slug":"/architecture/trd","permalink":"/architecture/trd","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Technical Reference Document"},"sidebar":"docsSidebar","previous":{"title":"What Gantral Is Not","permalink":"/positioning/what-gantral-is-not"},"next":{"title":"Authority State Machine","permalink":"/architecture/authority-state-machine"}}');var r=i(4848),s=i(8453);const l={title:"Technical Reference Document"},a="Gantral \u2013 Technical Reference & Architecture Document",c={},o=[{value:"Purpose",id:"purpose",level:2},{value:"1. Scope &amp; Non-Goals",id:"1-scope--non-goals",level:2},{value:"1.1 What Gantral Is (Technical Definition)",id:"11-what-gantral-is-technical-definition",level:3},{value:"1.2 Explicit Non-Goals (Hard Exclusions)",id:"12-explicit-non-goals-hard-exclusions",level:3},{value:"2. Architectural Invariants (Non-Negotiable)",id:"2-architectural-invariants-non-negotiable",level:2},{value:"New Invariant: Agent-Native Persistence (Critical)",id:"new-invariant-agent-native-persistence-critical",level:3},{value:"3. High-Level Architecture",id:"3-high-level-architecture",level:2},{value:"3.1 Logical Architecture Layers",id:"31-logical-architecture-layers",level:3},{value:"3.2 Runtime Model (Authoritative)",id:"32-runtime-model-authoritative",level:3},{value:"3.3 Execution Plane Responsibility Boundary",id:"33-execution-plane-responsibility-boundary",level:3},{value:"3.4 Execution State vs Execution Readiness",id:"34-execution-state-vs-execution-readiness",level:3},{value:"4. Core Domain Model",id:"4-core-domain-model",level:2},{value:"4.1 Core Entities",id:"41-core-entities",level:3},{value:"5. Authority State Machine",id:"5-authority-state-machine",level:2},{value:"5.1 Canonical States",id:"51-canonical-states",level:3},{value:"5.2 State Guarantees",id:"52-state-guarantees",level:3},{value:"5.3 Policy Evaluation Semantics (Critical)",id:"53-policy-evaluation-semantics-critical",level:3},{value:"6. Policy Interface &amp; Evaluation Layer",id:"6-policy-interface--evaluation-layer",level:2},{value:"7. Determinism &amp; Replay Model",id:"7-determinism--replay-model",level:2},{value:"7.1 Replay Semantics",id:"71-replay-semantics",level:3},{value:"7.2 Responsibility Boundary",id:"72-responsibility-boundary",level:3},{value:"8. APIs &amp; SDKs",id:"8-apis--sdks",level:2},{value:"9. Data &amp; Storage Model",id:"9-data--storage-model",level:2},{value:"10. Security Architecture",id:"10-security-architecture",level:2},{value:"11. Privacy &amp; Compliance",id:"11-privacy--compliance",level:2},{value:"12. Standards &amp; Interoperability",id:"12-standards--interoperability",level:2},{value:"13. Execution Evidence References (Non-Authoritative)",id:"13-execution-evidence-references-non-authoritative",level:2},{value:"14. Final Principle",id:"14-final-principle",level:2}];function d(e){const n={br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"gantral--technical-reference--architecture-document",children:"Gantral \u2013 Technical Reference & Architecture Document"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Version:"})," v4.1 (Authority-First, Verifiable Execution, Atomic Evidence)",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Status:"})," Living technical reference (authoritative)",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Audience:"})," Core contributors, platform engineers, security reviewers, enterprise architects"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"purpose",children:"Purpose"}),"\n",(0,r.jsxs)(n.p,{children:["This document is the ",(0,r.jsx)(n.strong,{children:"technical constitution"})," of the Gantral open-source core."]}),"\n",(0,r.jsxs)(n.p,{children:["It defines the ",(0,r.jsx)(n.strong,{children:"architectural invariants, execution semantics, authority boundaries,\nand verifiability guarantees"})," that must hold across all implementations."]}),"\n",(0,r.jsxs)(n.p,{children:["Gantral deliberately separates ",(0,r.jsx)(n.strong,{children:"execution authority"})," from ",(0,r.jsx)(n.strong,{children:"agent reasoning and memory"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"If an implementation conflicts with this document, the implementation is incorrect."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"1-scope--non-goals",children:"1. Scope & Non-Goals"}),"\n",(0,r.jsx)(n.h3,{id:"11-what-gantral-is-technical-definition",children:"1.1 What Gantral Is (Technical Definition)"}),"\n",(0,r.jsxs)(n.p,{children:["Gantral is an ",(0,r.jsx)(n.strong,{children:"AI Execution Control Plane"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"It enforces how AI-assisted and agentic workflows:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"execute"}),"\n",(0,r.jsx)(n.li,{children:"pause at governed boundaries"}),"\n",(0,r.jsx)(n.li,{children:"require and record authority"}),"\n",(0,r.jsx)(n.li,{children:"resume, override, or terminate"}),"\n",(0,r.jsx)(n.li,{children:"emit verifiable execution evidence"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Technically, Gantral provides:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["A ",(0,r.jsx)(n.strong,{children:"deterministic, instance-first authority state machine"})]}),"\n",(0,r.jsxs)(n.li,{children:["Human-in-the-Loop (HITL) as a ",(0,r.jsx)(n.strong,{children:"blocking execution state"})]}),"\n",(0,r.jsx)(n.li,{children:"Instance-level isolation for audit, cost, and accountability"}),"\n",(0,r.jsx)(n.li,{children:"Declarative control over materiality, authority, and escalation"}),"\n",(0,r.jsxs)(n.li,{children:["A ",(0,r.jsx)(n.strong,{children:"pluggable policy evaluation interface (advisory only)"})]}),"\n",(0,r.jsx)(n.li,{children:"Commitment artifacts emitted at authority boundaries"}),"\n",(0,r.jsxs)(n.li,{children:["Deterministic replay of ",(0,r.jsx)(n.strong,{children:"authority decisions only"})]}),"\n",(0,r.jsx)(n.li,{children:"Control APIs and SDKs that sit above agent frameworks and below enterprise systems"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Gantral is domain-agnostic by design.",(0,r.jsx)(n.br,{}),"\n","SDLC workflows are an initial wedge, not the boundary."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"12-explicit-non-goals-hard-exclusions",children:"1.2 Explicit Non-Goals (Hard Exclusions)"}),"\n",(0,r.jsx)(n.p,{children:"Gantral will not:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"build, host, or orchestrate AI agents"}),"\n",(0,r.jsx)(n.li,{children:"encode domain-specific business logic"}),"\n",(0,r.jsx)(n.li,{children:"manage agent prompts, plans, or internal memory"}),"\n",(0,r.jsx)(n.li,{children:"serialize or persist agent internal state"}),"\n",(0,r.jsx)(n.li,{children:"optimize, train, or fine-tune models"}),"\n",(0,r.jsx)(n.li,{children:"provide autonomous decision loops"}),"\n",(0,r.jsx)(n.li,{children:"make probabilistic decisions without human authority"}),"\n",(0,r.jsx)(n.li,{children:"replace CI/CD, ITSM, ticketing, or enterprise systems"}),"\n",(0,r.jsx)(n.li,{children:"store raw secrets or credentials"}),"\n",(0,r.jsx)(n.li,{children:"act as an identity provider"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"2-architectural-invariants-non-negotiable",children:"2. Architectural Invariants (Non-Negotiable)"}),"\n",(0,r.jsx)(n.p,{children:"The following invariants must hold across all implementations:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Instance-first semantics"}),(0,r.jsx)(n.br,{}),"\n","All audit, cost, authority, and replay semantics attach to immutable execution instances."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Authority is state"}),(0,r.jsx)(n.br,{}),"\n","Execution authority exists only as execution state transitions."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"HITL is a state transition"}),(0,r.jsx)(n.br,{}),"\n","Human intervention is enforced inside the execution graph, not externally."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Human authority is final"}),(0,r.jsx)(n.br,{}),"\n","AI output and policy evaluation are advisory only."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Determinism over performance"}),(0,r.jsx)(n.br,{}),"\n","Replayability and auditability take precedence over latency."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Declarative control"}),(0,r.jsx)(n.br,{}),"\n","Materiality, authority, and escalation rules are configuration, not embedded logic."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Adapters contain no business logic"}),(0,r.jsx)(n.br,{}),"\n","Integrations emit events and receive decisions only."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Identity federation required"}),(0,r.jsx)(n.br,{}),"\n","Gantral must not maintain a standalone user directory."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"No secret persistence"}),(0,r.jsx)(n.br,{}),"\n","Gantral stores only secret references; resolution occurs at execution edges."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Determinism & Evidence"}),"\nHuman authority must produce structured, attributable reasoning. Approval without justification may be configured as invalid."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Violating these invariants invalidates the system."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"new-invariant-agent-native-persistence-critical",children:"New Invariant: Agent-Native Persistence (Critical)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Execution State vs Agent State Separation"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Gantral owns execution and authority state"}),"\n",(0,r.jsx)(n.li,{children:"Agent frameworks own agent internal state (memory, plans, tool context)"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Checkpointability Requirement"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Agents must be restartable from externally persisted checkpoints"}),"\n",(0,r.jsx)(n.li,{children:"Agent state persistence is the agent framework\u2019s responsibility"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"No Agent State in Gantral"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Agent internal state must never be serialized into Gantral execution history"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"3-high-level-architecture",children:"3. High-Level Architecture"}),"\n",(0,r.jsx)(n.h3,{id:"31-logical-architecture-layers",children:"3.1 Logical Architecture Layers"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\n+--------------------------------------------------+\n| Enterprise Systems                               |\n| (GitHub, Jira, Slack, ServiceNow, Custom Apps)   |\n+------------------------\u25b2-------------------------+\n| Events / Decisions\n+------------------------|-------------------------+\n| Gantral Control Plane                          |\n| - Execution Engine                              |\n| - Authority State Machine                       |\n| - Policy Interface (Advisory)                   |\n| - Instance Registry                             |\n| - Commitment Artifact Emission                  |\n+------------------------\u25b2-------------------------+\n| SDK / API\n+------------------------|-------------------------+\n| Agent Frameworks & Runners (Distributed)        |\n+--------------------------------------------------+\n\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"32-runtime-model-authoritative",children:"3.2 Runtime Model (Authoritative)"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Trigger received (event, schedule, external signal)"}),"\n",(0,r.jsx)(n.li,{children:"Workflow template selected"}),"\n",(0,r.jsx)(n.li,{children:"Immutable execution instance created"}),"\n",(0,r.jsx)(n.li,{children:"Execution proceeds in deterministic workflow runtime"}),"\n",(0,r.jsxs)(n.li,{children:["Policy evaluated as a ",(0,r.jsx)(n.strong,{children:"transition guard"})]}),"\n",(0,r.jsxs)(n.li,{children:["Execution continues or enters ",(0,r.jsx)(n.code,{children:"WAITING_FOR_HUMAN"})]}),"\n",(0,r.jsx)(n.li,{children:"Agent framework checkpoints and suspends"}),"\n",(0,r.jsx)(n.li,{children:"Human authority decision captured (if required)"}),"\n",(0,r.jsx)(n.li,{children:"Authority state transition committed"}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Commitment artifact emitted atomically"})}),"\n",(0,r.jsx)(n.li,{children:"Execution resumes or terminates via new process"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"33-execution-plane-responsibility-boundary",children:"3.3 Execution Plane Responsibility Boundary"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Gantral owns"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"execution and authority state"}),"\n",(0,r.jsx)(n.li,{children:"authority transitions"}),"\n",(0,r.jsx)(n.li,{children:"time, retries, escalation, replay"}),"\n",(0,r.jsx)(n.li,{children:"audit correctness"}),"\n",(0,r.jsx)(n.li,{children:"artifact emission"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Agent frameworks own"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"reasoning, planning, tool execution"}),"\n",(0,r.jsx)(n.li,{children:"agent memory and checkpoints"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Runners"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"execute agent processes"}),"\n",(0,r.jsx)(n.li,{children:"translate lifecycle signals into Gantral events"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Agents cannot advance execution past governed states independently."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"34-execution-state-vs-execution-readiness",children:"3.4 Execution State vs Execution Readiness"}),"\n",(0,r.jsxs)(n.p,{children:["Execution ",(0,r.jsx)(n.strong,{children:"state"})," is canonical and auditable.",(0,r.jsx)(n.br,{}),"\n","Execution ",(0,r.jsx)(n.strong,{children:"readiness"})," is transient and derived."]}),"\n",(0,r.jsx)(n.p,{children:"Formally:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\nrunnable(instance) =\nexecution_state == RUNNING\nAND no pending HITL decisions\nAND no policy blocks\nAND execution plane capacity available\n\n"})}),"\n",(0,r.jsx)(n.p,{children:"Readiness is never persisted."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"4-core-domain-model",children:"4. Core Domain Model"}),"\n",(0,r.jsx)(n.h3,{id:"41-core-entities",children:"4.1 Core Entities"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Workflow (Template)"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"workflow_id, version"}),"\n",(0,r.jsx)(n.li,{children:"step graph"}),"\n",(0,r.jsx)(n.li,{children:"trigger definitions"}),"\n",(0,r.jsx)(n.li,{children:"policy references"}),"\n",(0,r.jsx)(n.li,{children:"materiality level"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Execution Instance"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"immutable instance_id"}),"\n",(0,r.jsx)(n.li,{children:"workflow_id + version"}),"\n",(0,r.jsx)(n.li,{children:"owning_team_id"}),"\n",(0,r.jsx)(n.li,{children:"trigger context"}),"\n",(0,r.jsx)(n.li,{children:"execution state"}),"\n",(0,r.jsx)(n.li,{children:"timestamps"}),"\n",(0,r.jsx)(n.li,{children:"cost metadata"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"HITL Decision"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"decision_id"}),"\n",(0,r.jsx)(n.li,{children:"instance_id"}),"\n",(0,r.jsx)(n.li,{children:"decision_type (APPROVE / REJECT / OVERRIDE)"}),"\n",(0,r.jsx)(n.li,{children:"human_actor_id"}),"\n",(0,r.jsx)(n.li,{children:"role"}),"\n",(0,r.jsx)(n.li,{children:"justification"}),"\n",(0,r.jsx)(n.li,{children:"context_snapshot"}),"\n",(0,r.jsx)(n.li,{children:"context_delta (required for OVERRIDE)"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"5-authority-state-machine",children:"5. Authority State Machine"}),"\n",(0,r.jsx)(n.h3,{id:"51-canonical-states",children:"5.1 Canonical States"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\nCREATED\n\u2193\nRUNNING\n\u2193 (policy requires authority)\nWAITING_FOR_HUMAN\n\u2199      \u2193      \u2198\nOVERRIDDEN APPROVED REJECTED\n\u2193        \u2193        \u2193\nRESUMED   RESUMED  TERMINATED\n\u2193\nCOMPLETED\n\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"52-state-guarantees",children:"5.2 State Guarantees"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"append-only transitions"}),"\n",(0,r.jsx)(n.li,{children:"no in-place mutation"}),"\n",(0,r.jsx)(n.li,{children:"timestamped and attributable"}),"\n",(0,r.jsx)(n.li,{children:"authority transitions always produce artifacts"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"53-policy-evaluation-semantics-critical",children:"5.3 Policy Evaluation Semantics (Critical)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Policy evaluation introduces ",(0,r.jsx)(n.strong,{children:"no new execution state"})]}),"\n",(0,r.jsx)(n.li,{children:"Evaluation occurs synchronously during transitions"}),"\n",(0,r.jsxs)(n.li,{children:["Results determine ",(0,r.jsx)(n.strong,{children:"whether authority is required"})]}),"\n",(0,r.jsx)(n.li,{children:"Policy engines never hold authority"}),"\n",(0,r.jsx)(n.li,{children:"Policy evaluation must not depend on tool payloads"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Policy checks are ",(0,r.jsx)(n.strong,{children:"transition guards"}),", not durable state."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"6-policy-interface--evaluation-layer",children:"6. Policy Interface & Evaluation Layer"}),"\n",(0,r.jsx)(n.p,{children:"Policy evaluators provide:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"ALLOW / REQUIRE_HUMAN / DENY"}),"\n",(0,r.jsx)(n.li,{children:"approver eligibility"}),"\n",(0,r.jsx)(n.li,{children:"escalation and timeout signals"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Gantral enforces:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"authority transitions"}),"\n",(0,r.jsx)(n.li,{children:"execution control"}),"\n",(0,r.jsx)(n.li,{children:"audit semantics"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"7-determinism--replay-model",children:"7. Determinism & Replay Model"}),"\n",(0,r.jsxs)(n.p,{children:["Gantral guarantees deterministic replay of ",(0,r.jsx)(n.strong,{children:"authority decisions"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"71-replay-semantics",children:"7.1 Replay Semantics"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Replay re-executes workflow logic from recorded authority history"}),"\n",(0,r.jsx)(n.li,{children:"Identical inputs and versions yield identical authority outcomes"}),"\n",(0,r.jsxs)(n.li,{children:["Replay ",(0,r.jsx)(n.strong,{children:"never"})," rehydrates agent internal memory"]}),"\n",(0,r.jsx)(n.li,{children:"Replay requires no access to Gantral services"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"72-responsibility-boundary",children:"7.2 Responsibility Boundary"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Gantral defines ",(0,r.jsx)(n.em,{children:"what"})," must be replayable"]}),"\n",(0,r.jsxs)(n.li,{children:["Workflow runtime defines ",(0,r.jsx)(n.em,{children:"how"})," replay occurs"]}),"\n",(0,r.jsx)(n.li,{children:"Agent replay is optional and non-authoritative"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"8-apis--sdks",children:"8. APIs & SDKs"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"REST and gRPC APIs (OpenAPI 3.1)"}),"\n",(0,r.jsxs)(n.li,{children:["Core API groups:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"/workflows"}),"\n",(0,r.jsx)(n.li,{children:"/instances"}),"\n",(0,r.jsx)(n.li,{children:"/decisions"}),"\n",(0,r.jsx)(n.li,{children:"/policies"}),"\n",(0,r.jsx)(n.li,{children:"/audit"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"SDKs are thin wrappers. All authority logic is server-side."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"9-data--storage-model",children:"9. Data & Storage Model"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Purpose"}),(0,r.jsx)(n.th,{children:"Approach"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Execution state"}),(0,r.jsx)(n.td,{children:"Event-sourced workflow history"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Authority artifacts"}),(0,r.jsx)(n.td,{children:"Immutable append-only store"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Snapshots"}),(0,r.jsx)(n.td,{children:"Object storage"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Caching"}),(0,r.jsx)(n.td,{children:"Optional (non-authoritative)"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Agent internal state stores are explicitly out of scope."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"10-security-architecture",children:"10. Security Architecture"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Identity: OAuth 2.0 / OIDC (federated)"}),"\n",(0,r.jsx)(n.li,{children:"Authorization: policy-driven"}),"\n",(0,r.jsx)(n.li,{children:"Secrets: external secret managers only"}),"\n",(0,r.jsx)(n.li,{children:"Audit: 100% authority capture, tamper-evident artifacts"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"11-privacy--compliance",children:"11. Privacy & Compliance"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"data minimization by default"}),"\n",(0,r.jsx)(n.li,{children:"configurable redaction"}),"\n",(0,r.jsx)(n.li,{children:"self-hosted and air-gapped supported"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Compliance is a ",(0,r.jsx)(n.strong,{children:"structural property of the execution model"}),", not a checklist."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"12-standards--interoperability",children:"12. Standards & Interoperability"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"OpenAPI 3.1"}),"\n",(0,r.jsx)(n.li,{children:"OpenTelemetry"}),"\n",(0,r.jsx)(n.li,{children:"OAuth 2.0 / OIDC"}),"\n",(0,r.jsx)(n.li,{children:"CNCF-aligned design principles"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"13-execution-evidence-references-non-authoritative",children:"13. Execution Evidence References (Non-Authoritative)"}),"\n",(0,r.jsxs)(n.p,{children:["Gantral may store ",(0,r.jsx)(n.strong,{children:"references"})," to external evidence."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"evidence captured outside Gantral"}),"\n",(0,r.jsx)(n.li,{children:"Gantral stores hashes or pointers only"}),"\n",(0,r.jsx)(n.li,{children:"Gantral does not inspect or interpret evidence"}),"\n",(0,r.jsx)(n.li,{children:"authority remains governed solely by state transitions"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"14-final-principle",children:"14. Final Principle"}),"\n",(0,r.jsx)(n.p,{children:"Gantral is not about what AI can do."}),"\n",(0,r.jsxs)(n.p,{children:["It is about what organizations are willing to ",(0,r.jsx)(n.strong,{children:"allow AI to do \u2014 and how they prove it"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"This document is authoritative."})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);