"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[8122],{8453(n,i,e){e.d(i,{R:()=>l,x:()=>o});var r=e(6540);const t={},s=r.createContext(t);function l(n){const i=r.useContext(s);return r.useMemo(function(){return"function"==typeof n?n(i):{...i,...n}},[i,n])}function o(n){let i;return i=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:l(n.components),r.createElement(s.Provider,{value:i},n.children)}},9811(n,i,e){e.r(i),e.d(i,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"architecture/trd","title":"Technical Reference Document","description":"Version: v6.1","source":"@site/../docs/architecture/trd.md","sourceDirName":"architecture","slug":"/architecture/trd","permalink":"/architecture/trd","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Technical Reference Document"},"sidebar":"docsSidebar","previous":{"title":"Gantral \u2014 Implementation of an Admissible AI Execution Control Plane","permalink":"/architecture/gantral-implementation-paper"},"next":{"title":"Authority State Machine","permalink":"/architecture/authority-state-machine"}}');var t=e(4848),s=e(8453);const l={title:"Technical Reference Document"},o="Technical Reference & Architecture Document (TRD)",a={},c=[{value:"<strong>Version: v6.1</strong>",id:"version-v61",level:2},{value:"<strong>Operational Inefficiency</strong>",id:"operational-inefficiency",level:2},{value:"<strong>Operational Fragmentation</strong>",id:"operational-fragmentation",level:2},{value:"<strong>Broken Chain of Custody</strong>",id:"broken-chain-of-custody",level:2},{value:"<strong>2.1 What Gantral Is</strong>",id:"21-what-gantral-is",level:2},{value:"<strong>2.2 Explicit Non-Goals</strong>",id:"22-explicit-non-goals",level:2},{value:"<strong>3.1 Instance-First Semantics</strong>",id:"31-instance-first-semantics",level:2},{value:"<strong>3.2 Authority Is State</strong>",id:"32-authority-is-state",level:2},{value:"<strong>3.3 HITL Is a Blocking State</strong>",id:"33-hitl-is-a-blocking-state",level:2},{value:"<strong>3.4 Atomic Authority Commitment</strong>",id:"34-atomic-authority-commitment",level:2},{value:"<strong>3.5 Determinism Over Performance</strong>",id:"35-determinism-over-performance",level:2},{value:"<strong>3.6 Policy Is Advisory</strong>",id:"36-policy-is-advisory",level:2},{value:"<strong>3.7 Version Binding</strong>",id:"37-version-binding",level:2},{value:"<strong>3.8 Agent State Separation</strong>",id:"38-agent-state-separation",level:2},{value:"<strong>3.9 Determinism &amp; Evidence</strong>",id:"39-determinism--evidence",level:2},{value:"<strong>4.1 Canonical State Set</strong>",id:"41-canonical-state-set",level:2},{value:"<strong>4.2 Transition Relation</strong>",id:"42-transition-relation",level:2},{value:"<strong>4.3 Transition Validity</strong>",id:"43-transition-validity",level:2},{value:"<strong>5.1 Artifact Fields</strong>",id:"51-artifact-fields",level:2},{value:"<strong>5.2 Identity Provenance</strong>",id:"52-identity-provenance",level:2},{value:"<strong>5.3 Context Snapshot</strong>",id:"53-context-snapshot",level:2},{value:"<strong>8.1 Layered Model</strong>",id:"81-layered-model",level:2},{value:"<strong>8.2 Control Plane Responsibilities</strong>",id:"82-control-plane-responsibilities",level:2},{value:"<strong>8.3 Runtime Responsibilities</strong>",id:"83-runtime-responsibilities",level:2}];function d(n){const i={br:"br",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"technical-reference--architecture-document-trd",children:(0,t.jsx)(i.strong,{children:"Technical Reference & Architecture Document (TRD)"})})}),"\n",(0,t.jsx)(i.h2,{id:"version-v61",children:(0,t.jsx)(i.strong,{children:"Version: v6.1"})}),"\n",(0,t.jsxs)(i.p,{children:["Status: Authoritative Technical Constitution",(0,t.jsx)(i.br,{}),"\n","Audience: Core contributors, platform engineers, security reviewers, enterprise architects, design partners"]}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h1,{id:"1-purpose",children:(0,t.jsx)(i.strong,{children:"1. Purpose"})}),"\n",(0,t.jsx)(i.p,{children:"This document defines the authoritative technical architecture and execution semantics of Gantral."}),"\n",(0,t.jsx)(i.p,{children:"Gantral is an AI Execution Control Plane that enforces deterministic authority transitions in agentic workflows."}),"\n",(0,t.jsx)(i.p,{children:"This document defines:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Architectural invariants"}),"\n",(0,t.jsx)(i.li,{children:"Canonical execution model"}),"\n",(0,t.jsx)(i.li,{children:"Authority semantics"}),"\n",(0,t.jsx)(i.li,{children:"Commitment artifact structure"}),"\n",(0,t.jsx)(i.li,{children:"Hash integrity properties"}),"\n",(0,t.jsx)(i.li,{children:"Replay guarantees"}),"\n",(0,t.jsx)(i.li,{children:"Responsibility boundaries"}),"\n",(0,t.jsx)(i.li,{children:"Enterprise adoption characteristics"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"If an implementation conflicts with this document, the implementation is incorrect."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h1,{id:"11-structural-challenges-addressed",children:(0,t.jsx)(i.strong,{children:"1.1 Structural Challenges Addressed"})}),"\n",(0,t.jsx)(i.p,{children:"Enterprise adoption of agentic AI introduces three recurring structural failures that are not solved by agent frameworks or orchestration tools alone."}),"\n",(0,t.jsx)(i.h2,{id:"operational-inefficiency",children:(0,t.jsx)(i.strong,{children:"Operational Inefficiency"})}),"\n",(0,t.jsx)(i.p,{children:"Governance thresholds are frequently embedded directly within workflow code:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Monetary limits hardcoded in agents"}),"\n",(0,t.jsx)(i.li,{children:"Risk thresholds implemented inside orchestration logic"}),"\n",(0,t.jsx)(i.li,{children:"Team-specific approval rules implemented as workflow forks"}),"\n",(0,t.jsx)(i.li,{children:"Environment-specific deployments differing only by governance parameters"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"This creates:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Policy\u2013code duplication"}),"\n",(0,t.jsx)(i.li,{children:"Redeployment risk for policy changes"}),"\n",(0,t.jsx)(i.li,{children:"Governance drift between documented and deployed behavior"}),"\n",(0,t.jsx)(i.li,{children:"Slower adaptation to regulatory or risk updates"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Gantral eliminates policy\u2013code duplication by separating policy thresholds from workflow implementation and binding authority decisions to versioned policy bundles."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"operational-fragmentation",children:(0,t.jsx)(i.strong,{children:"Operational Fragmentation"})}),"\n",(0,t.jsx)(i.p,{children:"Authority decisions are often evaluated in one system but enforced in another:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Policy engines detached from execution runtime"}),"\n",(0,t.jsx)(i.li,{children:"Human approvals recorded outside canonical workflow state"}),"\n",(0,t.jsx)(i.li,{children:"Logs capturing events without structural binding to execution progression"}),"\n",(0,t.jsx)(i.li,{children:"Multiple agent frameworks lacking shared authority semantics"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"In such architectures, authority exists as documentation \u2014 not as deterministic execution state."}),"\n",(0,t.jsx)(i.p,{children:"Gantral represents authority directly as canonical workflow state transitions."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"broken-chain-of-custody",children:(0,t.jsx)(i.strong,{children:"Broken Chain of Custody"})}),"\n",(0,t.jsx)(i.p,{children:"At AI execution boundaries:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsx)(i.li,{children:"An agent proposes an action"}),"\n",(0,t.jsx)(i.li,{children:"A human approves"}),"\n",(0,t.jsx)(i.li,{children:"Execution resumes"}),"\n",(0,t.jsx)(i.li,{children:"Logs attempt reconstruction"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Without cryptographic binding, reconstruction depends on:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Log integrity"}),"\n",(0,t.jsx)(i.li,{children:"Runtime availability"}),"\n",(0,t.jsx)(i.li,{children:"Policy version drift"}),"\n",(0,t.jsx)(i.li,{children:"Operator testimony"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Gantral emits cryptographically chained commitment artifacts at authority boundaries, enabling deterministic replay independent of logs or runtime access."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h1,{id:"2-scope-and-non-goals",children:(0,t.jsx)(i.strong,{children:"2. Scope and Non-Goals"})}),"\n",(0,t.jsx)(i.h2,{id:"21-what-gantral-is",children:(0,t.jsx)(i.strong,{children:"2.1 What Gantral Is"})}),"\n",(0,t.jsx)(i.p,{children:"Gantral is:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"An execution control plane for AI-assisted workflows"}),"\n",(0,t.jsx)(i.li,{children:"A deterministic authority state machine"}),"\n",(0,t.jsx)(i.li,{children:"An atomic commitment artifact emitter"}),"\n",(0,t.jsx)(i.li,{children:"A replay-verifiable execution authority ledger"}),"\n",(0,t.jsx)(i.li,{children:"A policy-advisory integration layer"}),"\n",(0,t.jsx)(i.li,{children:"Infrastructure positioned above agents and below enterprise accountability systems"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Gantral represents authority as canonical workflow state."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"22-explicit-non-goals",children:(0,t.jsx)(i.strong,{children:"2.2 Explicit Non-Goals"})}),"\n",(0,t.jsx)(i.p,{children:"Gantral does not:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Build, host, or orchestrate AI agents"}),"\n",(0,t.jsx)(i.li,{children:"Persist agent memory or reasoning traces"}),"\n",(0,t.jsx)(i.li,{children:"Encode domain-specific business logic"}),"\n",(0,t.jsx)(i.li,{children:"Replace workflow runtimes"}),"\n",(0,t.jsx)(i.li,{children:"Replace CI/CD, ITSM, or enterprise ticketing systems"}),"\n",(0,t.jsx)(i.li,{children:"Act as an identity provider"}),"\n",(0,t.jsx)(i.li,{children:"Store secrets or credentials"}),"\n",(0,t.jsx)(i.li,{children:"Provide autonomous self-approval mechanisms"}),"\n",(0,t.jsx)(i.li,{children:"Guarantee regulatory compliance"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Gantral enforces authority transitions only."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h1,{id:"3-architectural-invariants",children:(0,t.jsx)(i.strong,{children:"3. Architectural Invariants"})}),"\n",(0,t.jsx)(i.p,{children:"The following invariants are non-negotiable."}),"\n",(0,t.jsx)(i.h2,{id:"31-instance-first-semantics",children:(0,t.jsx)(i.strong,{children:"3.1 Instance-First Semantics"})}),"\n",(0,t.jsx)(i.p,{children:"All authority, audit, replay, and cost semantics attach to immutable execution instances."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"32-authority-is-state",children:(0,t.jsx)(i.strong,{children:"3.2 Authority Is State"})}),"\n",(0,t.jsx)(i.p,{children:"Authority exists only as canonical workflow state transitions."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"33-hitl-is-a-blocking-state",children:(0,t.jsx)(i.strong,{children:"3.3 HITL Is a Blocking State"})}),"\n",(0,t.jsxs)(i.p,{children:["Human-in-the-loop is modeled as ",(0,t.jsx)(i.code,{children:"WAITING_FOR_HUMAN"}),", not as an external notification."]}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"34-atomic-authority-commitment",children:(0,t.jsx)(i.strong,{children:"3.4 Atomic Authority Commitment"})}),"\n",(0,t.jsx)(i.p,{children:"Authority transition and commitment artifact emission occur atomically."}),"\n",(0,t.jsx)(i.p,{children:"If artifact persistence fails:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"The authority state transition MUST NOT be observable."}),"\n",(0,t.jsxs)(i.li,{children:["Execution MUST remain in ",(0,t.jsx)(i.code,{children:"WAITING_FOR_HUMAN"}),"."]}),"\n",(0,t.jsx)(i.li,{children:"Partial transitions are forbidden."}),"\n"]}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"35-determinism-over-performance",children:(0,t.jsx)(i.strong,{children:"3.5 Determinism Over Performance"})}),"\n",(0,t.jsx)(i.p,{children:"Replay correctness supersedes latency optimization."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"36-policy-is-advisory",children:(0,t.jsx)(i.strong,{children:"3.6 Policy Is Advisory"})}),"\n",(0,t.jsx)(i.p,{children:"Policy engines provide advisory signals only."}),"\n",(0,t.jsx)(i.p,{children:"Final authority is represented exclusively as workflow state transitions."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"37-version-binding",children:(0,t.jsx)(i.strong,{children:"3.7 Version Binding"})}),"\n",(0,t.jsx)(i.p,{children:"Authority decisions must bind:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"workflow_version_id"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"policy_version_id"})}),"\n"]}),"\n",(0,t.jsxs)(i.p,{children:["Version mismatch during replay yields ",(0,t.jsx)(i.code,{children:"INCONCLUSIVE"}),"."]}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"38-agent-state-separation",children:(0,t.jsx)(i.strong,{children:"3.8 Agent State Separation"})}),"\n",(0,t.jsx)(i.p,{children:"Gantral never persists:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Agent memory"}),"\n",(0,t.jsx)(i.li,{children:"Internal plans"}),"\n",(0,t.jsx)(i.li,{children:"Tool traces"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Agent persistence is the responsibility of agent frameworks."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"39-determinism--evidence",children:(0,t.jsx)(i.strong,{children:"3.9 Determinism & Evidence"})}),"\n",(0,t.jsx)(i.p,{children:"Human authority must produce structured, attributable reasoning."}),"\n",(0,t.jsx)(i.p,{children:"The commitment artifact includes:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"human_actor_id"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"justification"})}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Deployments MAY configure:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Empty justification as invalid"}),"\n",(0,t.jsx)(i.li,{children:"Minimum reasoning requirements"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Approval without attributable reasoning undermines admissibility and may be rejected."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h1,{id:"4-formal-execution-model",children:(0,t.jsx)(i.strong,{children:"4. Formal Execution Model"})}),"\n",(0,t.jsx)(i.h2,{id:"41-canonical-state-set",children:(0,t.jsx)(i.strong,{children:"4.1 Canonical State Set"})}),"\n",(0,t.jsx)(i.p,{children:"The canonical state set S consists of:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"CREATED"}),"\n",(0,t.jsx)(i.li,{children:"RUNNING"}),"\n",(0,t.jsx)(i.li,{children:"WAITING_FOR_HUMAN"}),"\n",(0,t.jsx)(i.li,{children:"APPROVED"}),"\n",(0,t.jsx)(i.li,{children:"REJECTED"}),"\n",(0,t.jsx)(i.li,{children:"OVERRIDDEN"}),"\n",(0,t.jsx)(i.li,{children:"RESUMED"}),"\n",(0,t.jsx)(i.li,{children:"TERMINATED"}),"\n",(0,t.jsx)(i.li,{children:"COMPLETED"}),"\n"]}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"42-transition-relation",children:(0,t.jsx)(i.strong,{children:"4.2 Transition Relation"})}),"\n",(0,t.jsx)(i.p,{children:"Allowed transitions:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"(CREATED, RUNNING)"}),"\n",(0,t.jsx)(i.li,{children:"(RUNNING, WAITING_FOR_HUMAN)"}),"\n",(0,t.jsx)(i.li,{children:"(WAITING_FOR_HUMAN, APPROVED)"}),"\n",(0,t.jsx)(i.li,{children:"(WAITING_FOR_HUMAN, REJECTED)"}),"\n",(0,t.jsx)(i.li,{children:"(WAITING_FOR_HUMAN, OVERRIDDEN)"}),"\n",(0,t.jsx)(i.li,{children:"(APPROVED, RESUMED)"}),"\n",(0,t.jsx)(i.li,{children:"(OVERRIDDEN, RESUMED)"}),"\n",(0,t.jsx)(i.li,{children:"(RESUMED, RUNNING)"}),"\n",(0,t.jsx)(i.li,{children:"(RUNNING, COMPLETED)"}),"\n",(0,t.jsx)(i.li,{children:"(RUNNING, TERMINATED)"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Transitions not enumerated above are illegal."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"43-transition-validity",children:(0,t.jsx)(i.strong,{children:"4.3 Transition Validity"})}),"\n",(0,t.jsx)(i.p,{children:"Let the state sequence for execution instance E be:"}),"\n",(0,t.jsx)(i.p,{children:"\u03c3E = (s\u2080, s\u2081, \u2026, s\u2099)"}),"\n",(0,t.jsx)(i.p,{children:"For all i in [0, n\u22121]:"}),"\n",(0,t.jsx)(i.p,{children:"(s\u1d62, s\u1d62\u208a\u2081) must belong to the allowed transition relation."}),"\n",(0,t.jsx)(i.p,{children:"Otherwise execution is invalid and must terminate."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h1,{id:"5-commitment-artifact",children:(0,t.jsx)(i.strong,{children:"5. Commitment Artifact"})}),"\n",(0,t.jsx)(i.h2,{id:"51-artifact-fields",children:(0,t.jsx)(i.strong,{children:"5.1 Artifact Fields"})}),"\n",(0,t.jsx)(i.p,{children:"Each authority transition emits a commitment artifact containing:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"artifact_version"}),"\n",(0,t.jsx)(i.li,{children:"artifact_id"}),"\n",(0,t.jsx)(i.li,{children:"instance_id"}),"\n",(0,t.jsx)(i.li,{children:"workflow_version_id"}),"\n",(0,t.jsx)(i.li,{children:"prev_artifact_hash"}),"\n",(0,t.jsx)(i.li,{children:"authority_state"}),"\n",(0,t.jsx)(i.li,{children:"policy_version_id"}),"\n",(0,t.jsx)(i.li,{children:"context_snapshot_hash"}),"\n",(0,t.jsx)(i.li,{children:"human_actor_id"}),"\n",(0,t.jsx)(i.li,{children:"justification"}),"\n",(0,t.jsx)(i.li,{children:"timestamp"}),"\n",(0,t.jsx)(i.li,{children:"artifact_hash"}),"\n"]}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"52-identity-provenance",children:(0,t.jsx)(i.strong,{children:"5.2 Identity Provenance"})}),"\n",(0,t.jsx)(i.p,{children:"Identity is validated using federated OIDC."}),"\n",(0,t.jsxs)(i.p,{children:["Gantral verifies the token and records the subject identifier as ",(0,t.jsx)(i.code,{children:"human_actor_id"}),"."]}),"\n",(0,t.jsx)(i.p,{children:"Artifact emission occurs only after identity validation."}),"\n",(0,t.jsx)(i.p,{children:"Gantral does not operate its own identity directory."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"53-context-snapshot",children:(0,t.jsx)(i.strong,{children:"5.3 Context Snapshot"})}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.code,{children:"context_snapshot_hash"})," binds:"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Workflow parameters"}),"\n",(0,t.jsx)(i.li,{children:"Policy evaluation inputs"}),"\n",(0,t.jsx)(i.li,{children:"Authority-relevant request payload"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"It does not persist agent memory."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h1,{id:"6-hash-integrity-model",children:(0,t.jsx)(i.strong,{children:"6. Hash Integrity Model"})}),"\n",(0,t.jsx)(i.p,{children:"Let H be a collision-resistant cryptographic hash function."}),"\n",(0,t.jsx)(i.p,{children:"For artifact i:"}),"\n",(0,t.jsxs)(i.p,{children:["If i = 0:",(0,t.jsx)(i.br,{}),"\n","artifact_hash_i = H(payload_i)"]}),"\n",(0,t.jsxs)(i.p,{children:["If i > 0:",(0,t.jsx)(i.br,{}),"\n","artifact_hash_i = H(payload_i concatenated with artifact_hash_{i\u22121})"]}),"\n",(0,t.jsx)(i.p,{children:"Integrity Property:"}),"\n",(0,t.jsx)(i.p,{children:"For any i > 0, modification of:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"payload_i"}),"\n",(0,t.jsx)(i.li,{children:"artifact_hash_{i\u22121}"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"causes artifact_hash_i to change and invalidates all subsequent artifacts during replay."}),"\n",(0,t.jsx)(i.p,{children:"Artifacts form a recursive tamper-evident chain."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h1,{id:"7-replay-determinism",children:(0,t.jsx)(i.strong,{children:"7. Replay Determinism"})}),"\n",(0,t.jsx)(i.p,{children:"Replay validation MUST verify:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsx)(i.li,{children:"Hash-chain integrity"}),"\n",(0,t.jsx)(i.li,{children:"Valid state transitions"}),"\n",(0,t.jsx)(i.li,{children:"workflow_version_id consistency"}),"\n",(0,t.jsx)(i.li,{children:"policy_version_id consistency"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Replay reconstructs the authority-state projection of execution."}),"\n",(0,t.jsx)(i.p,{children:"Replay outcomes:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"VALID"}),"\n",(0,t.jsx)(i.li,{children:"INVALID"}),"\n",(0,t.jsx)(i.li,{children:"INCONCLUSIVE"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Replay requires no runtime, database, or log access."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h1,{id:"8-reference-architecture",children:(0,t.jsx)(i.strong,{children:"8. Reference Architecture"})}),"\n",(0,t.jsx)(i.h2,{id:"81-layered-model",children:(0,t.jsx)(i.strong,{children:"8.1 Layered Model"})}),"\n",(0,t.jsxs)(i.p,{children:["Enterprise Systems",(0,t.jsx)(i.br,{}),"\n","\u2193",(0,t.jsx)(i.br,{}),"\n","Gantral Control Plane",(0,t.jsx)(i.br,{}),"\n","\u2193",(0,t.jsx)(i.br,{}),"\n","Deterministic Workflow Runtime",(0,t.jsx)(i.br,{}),"\n","\u2193",(0,t.jsx)(i.br,{}),"\n","Execution Systems"]}),"\n",(0,t.jsx)(i.p,{children:"Side integrations:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Policy Engine (e.g., OPA)"}),"\n",(0,t.jsx)(i.li,{children:"Identity Provider (OIDC)"}),"\n",(0,t.jsx)(i.li,{children:"Append-only Artifact Store"}),"\n"]}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"82-control-plane-responsibilities",children:(0,t.jsx)(i.strong,{children:"8.2 Control Plane Responsibilities"})}),"\n",(0,t.jsx)(i.p,{children:"Gantral:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Enforces canonical authority state transitions"}),"\n",(0,t.jsx)(i.li,{children:"Evaluates advisory policy signals"}),"\n",(0,t.jsx)(i.li,{children:"Emits commitment artifacts"}),"\n",(0,t.jsx)(i.li,{children:"Maintains append-only authority history"}),"\n",(0,t.jsx)(i.li,{children:"Provides unified visibility into running and paused workflows"}),"\n",(0,t.jsx)(i.li,{children:"Exposes replay-verification tooling"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Gantral is a structural control plane."}),"\n",(0,t.jsx)(i.p,{children:"It unifies authority semantics across heterogeneous agent frameworks and eliminates forked governance logic embedded in workflow code."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"83-runtime-responsibilities",children:(0,t.jsx)(i.strong,{children:"8.3 Runtime Responsibilities"})}),"\n",(0,t.jsx)(i.p,{children:"Deterministic workflow runtime:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Provides durable timers"}),"\n",(0,t.jsx)(i.li,{children:"Preserves event ordering"}),"\n",(0,t.jsx)(i.li,{children:"Supports long-running execution"}),"\n",(0,t.jsx)(i.li,{children:"Enables deterministic replay of workflow logic"}),"\n"]}),"\n",(0,t.jsxs)(i.p,{children:["Gantral governs authority.",(0,t.jsx)(i.br,{}),"\n","Runtime executes logic."]}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h1,{id:"9-policy-integration--separation",children:(0,t.jsx)(i.strong,{children:"9. Policy Integration & Separation"})}),"\n",(0,t.jsx)(i.p,{children:"Policy evaluation may be implemented using Open Policy Agent (OPA)."}),"\n",(0,t.jsx)(i.p,{children:"Policies:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Are authored in Rego"}),"\n",(0,t.jsx)(i.li,{children:"Are versioned independently from workflow code"}),"\n",(0,t.jsx)(i.li,{children:"May be updated without redeploying agent workflows"}),"\n"]}),"\n",(0,t.jsxs)(i.p,{children:["Gantral records ",(0,t.jsx)(i.code,{children:"policy_version_id"})," within each commitment artifact."]}),"\n",(0,t.jsx)(i.p,{children:"Policy updates do not require modifying workflow code."}),"\n",(0,t.jsxs)(i.p,{children:["Policy evaluation is advisory.",(0,t.jsx)(i.br,{}),"\n","Authority remains represented exclusively as state transitions."]}),"\n",(0,t.jsx)(i.p,{children:"This separation reduces operational duplication and redeployment risk."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h1,{id:"10-storage-model",children:(0,t.jsx)(i.strong,{children:"10. Storage Model"})}),"\n",(0,t.jsx)(i.p,{children:"Execution indices: PostgreSQL (non-authoritative)"}),"\n",(0,t.jsx)(i.p,{children:"Commitment artifacts: Append-only object storage (authoritative)"}),"\n",(0,t.jsx)(i.p,{children:"Artifact store is authoritative for replay."}),"\n",(0,t.jsx)(i.p,{children:"Write-once configuration is recommended."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h1,{id:"11-security-architecture",children:(0,t.jsx)(i.strong,{children:"11. Security Architecture"})}),"\n",(0,t.jsxs)(i.p,{children:["Identity: OAuth 2.0 / OIDC federation",(0,t.jsx)(i.br,{}),"\n","Authorization: Policy-driven",(0,t.jsx)(i.br,{}),"\n","Secrets: External secret managers only",(0,t.jsx)(i.br,{}),"\n","Audit: 100% authority capture via artifacts"]}),"\n",(0,t.jsx)(i.p,{children:"Gantral does not store raw secrets."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h1,{id:"12-unified-authority-visibility",children:(0,t.jsx)(i.strong,{children:"12. Unified Authority Visibility"})}),"\n",(0,t.jsx)(i.p,{children:"Gantral provides unified visibility into execution instances across teams and domains, including:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Running workflows"}),"\n",(0,t.jsx)(i.li,{children:"Paused workflows awaiting authority"}),"\n",(0,t.jsx)(i.li,{children:"Authority progression history"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"This reduces governance ambiguity and operational blind spots."}),"\n",(0,t.jsx)(i.p,{children:"Visibility refers strictly to authority state and execution metadata. Gantral does not provide analytics, dashboards, or cost intelligence."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h1,{id:"13-non-functional-characteristics",children:(0,t.jsx)(i.strong,{children:"13. Non-Functional Characteristics"})}),"\n",(0,t.jsx)(i.p,{children:"Authority transitions require:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Hash computation"}),"\n",(0,t.jsx)(i.li,{children:"Artifact persistence"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"In human-in-the-loop workflows, human latency dominates pause duration."}),"\n",(0,t.jsx)(i.p,{children:"Deterministic correctness takes precedence over micro-optimizations."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h1,{id:"14-enterprise-adoption-considerations",children:(0,t.jsx)(i.strong,{children:"14. Enterprise Adoption Considerations"})}),"\n",(0,t.jsx)(i.p,{children:"Gantral is designed for incremental and reversible adoption."}),"\n",(0,t.jsx)(i.p,{children:"Organizations may:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Introduce Gantral at high-materiality authority boundaries"}),"\n",(0,t.jsx)(i.li,{children:"Retain existing workflow runtimes"}),"\n",(0,t.jsx)(i.li,{children:"Gradually externalize policy thresholds from workflow code"}),"\n",(0,t.jsx)(i.li,{children:"Maintain agent frameworks without modifying internal memory models"}),"\n"]}),"\n",(0,t.jsxs)(i.p,{children:["Gantral does not require rewriting agents.",(0,t.jsx)(i.br,{}),"\n","It introduces deterministic authority semantics above them."]}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h1,{id:"15-testing--constitutional-enforcement",children:(0,t.jsx)(i.strong,{children:"15. Testing & Constitutional Enforcement"})}),"\n",(0,t.jsx)(i.p,{children:"Testing enforces:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Transition correctness"}),"\n",(0,t.jsx)(i.li,{children:"Atomic artifact emission"}),"\n",(0,t.jsx)(i.li,{children:"Hash integrity"}),"\n",(0,t.jsx)(i.li,{children:"Version consistency"}),"\n",(0,t.jsx)(i.li,{children:"Replay determinism"}),"\n",(0,t.jsx)(i.li,{children:"Fail-closed behavior"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Testing is mechanical enforcement of invariants."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h1,{id:"16-auditor-considerations",children:(0,t.jsx)(i.strong,{children:"16. Auditor Considerations"})}),"\n",(0,t.jsx)(i.p,{children:"Gantral provides:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Cryptographically bound authority transitions"}),"\n",(0,t.jsx)(i.li,{children:"Version-bound policy evaluation"}),"\n",(0,t.jsx)(i.li,{children:"Identity validation at decision time"}),"\n",(0,t.jsx)(i.li,{children:"Deterministic replay independent of logs"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Gantral does not guarantee regulatory compliance."}),"\n",(0,t.jsx)(i.p,{children:"It provides verifiable execution-time authority evidence."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h1,{id:"17-legal-disclaimer",children:(0,t.jsx)(i.strong,{children:"17. Legal Disclaimer"})}),"\n",(0,t.jsx)(i.p,{children:"Gantral is open-source infrastructure provided as-is."}),"\n",(0,t.jsx)(i.p,{children:"This document does not constitute legal advice or regulatory certification."}),"\n",(0,t.jsx)(i.p,{children:"Organizations deploying Gantral are responsible for independent security and compliance evaluation."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h1,{id:"18-foundational-principle",children:(0,t.jsx)(i.strong,{children:"18. Foundational Principle"})}),"\n",(0,t.jsx)(i.p,{children:"Gantral is not about what AI can do."}),"\n",(0,t.jsxs)(i.p,{children:["It is about what organizations allow AI to do \u2014",(0,t.jsx)(i.br,{}),"\n","and how that authority is structurally enforced and provably replayable."]}),"\n",(0,t.jsx)(i.p,{children:"This document is authoritative."}),"\n",(0,t.jsx)(i.hr,{})]})}function h(n={}){const{wrapper:i}={...(0,s.R)(),...n.components};return i?(0,t.jsx)(i,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}}}]);