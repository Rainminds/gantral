"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[9245],{4847(e,n,r){r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"guides/example-consumer-integration","title":"Example Consumer Guide","description":"\u26a0\ufe0f This document is not a system specification.","source":"@site/../docs/guides/example-consumer-integration.md","sourceDirName":"guides","slug":"/guides/example-consumer-integration","permalink":"/guides/example-consumer-integration","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Example Consumer Guide"},"sidebar":"docsSidebar","previous":{"title":"OPA Integration","permalink":"/guides/opa-integration"},"next":{"title":"End-to-End Demo","permalink":"/guides/demo"}}');var t=r(4848),s=r(8453);const l={title:"Example Consumer Guide"},a="Example Consumer Guide",o={},c=[{value:"How External Agents and Systems Should Use Gantral",id:"how-external-agents-and-systems-should-use-gantral",level:2},{value:"Purpose",id:"purpose",level:2},{value:"1. What Gantral Is (From a Consumer\u2019s Perspective)",id:"1-what-gantral-is-from-a-consumers-perspective",level:2},{value:"2. When You Must Call Gantral",id:"2-when-you-must-call-gantral",level:2},{value:"Examples",id:"examples",level:3},{value:"3. Canonical Consumer Interaction Flow",id:"3-canonical-consumer-interaction-flow",level:2},{value:"4. Minimal SDK Interaction Pattern",id:"4-minimal-sdk-interaction-pattern",level:2},{value:"Step 1: Create or Identify an Execution Instance",id:"step-1-create-or-identify-an-execution-instance",level:3},{value:"Step 2: Request Authority",id:"step-2-request-authority",level:3},{value:"Step 3: Handle the Execution State",id:"step-3-handle-the-execution-state",level:3},{value:"APPROVED / RUNNING",id:"approved--running",level:4},{value:"WAITING_FOR_HUMAN",id:"waiting_for_human",level:4},{value:"REJECTED or TERMINATED",id:"rejected-or-terminated",level:4},{value:"5. Handling Long-Running Approvals (Critical)",id:"5-handling-long-running-approvals-critical",level:2},{value:"5.1 Pattern A \u2014 Persisted Pause (Preferred)",id:"51-pattern-a--persisted-pause-preferred",level:3},{value:"Framework Examples",id:"framework-examples",level:4},{value:"5.2 Pattern B \u2014 Split-Agent Pattern (Mandatory Without Persistence)",id:"52-pattern-b--split-agent-pattern-mandatory-without-persistence",level:3},{value:"Example Split Flow",id:"example-split-flow",level:4},{value:"Hard Rules for Non-Persistent Frameworks",id:"hard-rules-for-non-persistent-frameworks",level:4},{value:"5.3 Choosing the Correct Pattern",id:"53-choosing-the-correct-pattern",level:3},{value:"6. Required Consumer Rules (Non-Negotiable)",id:"6-required-consumer-rules-non-negotiable",level:2},{value:"7. Timeouts and Escalation",id:"7-timeouts-and-escalation",level:2},{value:"8. Error Handling Expectations",id:"8-error-handling-expectations",level:2},{value:"9. Example Reference Implementation",id:"9-example-reference-implementation",level:2},{value:"10. What This Guide Intentionally Does Not Cover",id:"10-what-this-guide-intentionally-does-not-cover",level:2},{value:"11. Agent Logs vs Execution Evidence",id:"11-agent-logs-vs-execution-evidence",level:2},{value:"Optional Pattern: Evidence-Aware Approval",id:"optional-pattern-evidence-aware-approval",level:3},{value:"When External Evidence Capture Is Recommended",id:"when-external-evidence-capture-is-recommended",level:4},{value:"When Agent Logs Are Sufficient",id:"when-agent-logs-are-sufficient",level:4},{value:"12. Final Reminder",id:"12-final-reminder",level:2}];function d(e){const n={blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"example-consumer-guide",children:"Example Consumer Guide"})}),"\n",(0,t.jsxs)(n.p,{children:["\u26a0\ufe0f ",(0,t.jsx)(n.strong,{children:"This document is not a system specification."})]}),"\n",(0,t.jsxs)(n.p,{children:["It is the ",(0,t.jsx)(n.strong,{children:"normative usage guide"})," for external consumers (agents, tools, workflows)\nthat integrate with Gantral."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"how-external-agents-and-systems-should-use-gantral",children:"How External Agents and Systems Should Use Gantral"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Status:"})," Consumption guide (normative for consumers)",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.strong,{children:"Audience:"})]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Agent developers"}),"\n",(0,t.jsx)(n.li,{children:"Platform engineers integrating Gantral"}),"\n",(0,t.jsx)(n.li,{children:"Teams building tools, automations, or workflows that require human authority"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"purpose",children:"Purpose"}),"\n",(0,t.jsxs)(n.p,{children:["This guide explains ",(0,t.jsx)(n.strong,{children:"when and how external systems must consume Gantral"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["It answers ",(0,t.jsx)(n.strong,{children:"one question only"}),":"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"When and how should my agent or system ask Gantral before executing an action?"})}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["This guide is intentionally narrow.",(0,t.jsx)(n.br,{}),"\n","It does ",(0,t.jsx)(n.strong,{children:"not"})," explain Gantral\u2019s internal architecture or enforcement mechanics."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"1-what-gantral-is-from-a-consumers-perspective",children:"1. What Gantral Is (From a Consumer\u2019s Perspective)"}),"\n",(0,t.jsxs)(n.p,{children:["From the outside, Gantral is an ",(0,t.jsx)(n.strong,{children:"execution authority gate"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"Gantral:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Receives a request to perform a potentially material action"}),"\n",(0,t.jsx)(n.li,{children:"Evaluates whether execution may proceed"}),"\n",(0,t.jsx)(n.li,{children:"Pauses execution when authority is required"}),"\n",(0,t.jsx)(n.li,{children:"Resumes or terminates execution based on an explicit decision"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Gantral is ",(0,t.jsx)(n.strong,{children:"not"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"An agent framework"}),"\n",(0,t.jsx)(n.li,{children:"A task runner"}),"\n",(0,t.jsx)(n.li,{children:"A policy engine"}),"\n",(0,t.jsx)(n.li,{children:"A workflow orchestrator"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["As a consumer, you treat Gantral as ",(0,t.jsx)(n.strong,{children:"the authority"}),", not as infrastructure you control."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"2-when-you-must-call-gantral",children:"2. When You Must Call Gantral"}),"\n",(0,t.jsxs)(n.p,{children:["You must call Gantral ",(0,t.jsx)(n.strong,{children:"before executing any action"})," that:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Has irreversible side effects"}),"\n",(0,t.jsx)(n.li,{children:"Affects production systems"}),"\n",(0,t.jsx)(n.li,{children:"Has regulatory, financial, or security impact"}),"\n",(0,t.jsx)(n.li,{children:"Requires human accountability"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Deleting or mutating production infrastructure"}),"\n",(0,t.jsx)(n.li,{children:"Executing high-cost or high-risk AI operations"}),"\n",(0,t.jsx)(n.li,{children:"Triggering payments, refunds, or financial transfers"}),"\n",(0,t.jsx)(n.li,{children:"Sending external communications"}),"\n",(0,t.jsx)(n.li,{children:"Making customer-impacting changes"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["If an action is fully reversible, sandboxed, or advisory-only,\nGantral is usually ",(0,t.jsx)(n.strong,{children:"not required"}),"."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"3-canonical-consumer-interaction-flow",children:"3. Canonical Consumer Interaction Flow"}),"\n",(0,t.jsx)(n.p,{children:"From a consumer\u2019s perspective, the flow is always:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Prepare execution context"}),"\n",(0,t.jsx)(n.li,{children:"Ask Gantral for authority"}),"\n",(0,t.jsx)(n.li,{children:"Observe Gantral\u2019s execution state"}),"\n",(0,t.jsx)(n.li,{children:"Either wait, resume, or abort"}),"\n"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"A consumer must never execute an action until Gantral explicitly allows it."})}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"4-minimal-sdk-interaction-pattern",children:"4. Minimal SDK Interaction Pattern"}),"\n",(0,t.jsxs)(n.p,{children:["Exact SDK names vary.",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.strong,{children:"The semantics do not."})]}),"\n",(0,t.jsx)(n.h3,{id:"step-1-create-or-identify-an-execution-instance",children:"Step 1: Create or Identify an Execution Instance"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"instance = gantral.create_instance(\n    workflow_id,\n    workflow_version,\n    execution_context\n)\n"})}),"\n",(0,t.jsxs)(n.p,{children:["This represents ",(0,t.jsx)(n.strong,{children:"one immutable execution attempt"}),"."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"step-2-request-authority",children:"Step 2: Request Authority"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'state = gantral.request_authority(\n    instance_id = instance.id,\n    actor_id = "agent-or-service-id",\n    action_context\n)\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Gantral evaluates policy and execution state\nand returns the ",(0,t.jsx)(n.strong,{children:"current authoritative execution state"}),"."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"step-3-handle-the-execution-state",children:"Step 3: Handle the Execution State"}),"\n",(0,t.jsx)(n.p,{children:"Gantral will place the instance in one of the following states."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h4,{id:"approved--running",children:"APPROVED / RUNNING"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"You may proceed with execution"}),"\n",(0,t.jsxs)(n.li,{children:["You ",(0,t.jsx)(n.strong,{children:"must"})," use the context returned by Gantral"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"execute(action)\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h4,{id:"waiting_for_human",children:"WAITING_FOR_HUMAN"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Do not"})," execute the action"]}),"\n",(0,t.jsx)(n.li,{children:"Pause execution immediately"}),"\n",(0,t.jsx)(n.li,{children:"Follow an approved pause pattern (see Section 5)"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"wait_for_update(instance.id)\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h4,{id:"rejected-or-terminated",children:"REJECTED or TERMINATED"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Do not execute the action"}),"\n",(0,t.jsx)(n.li,{children:"Abort the workflow"}),"\n",(0,t.jsx)(n.li,{children:"Do not retry"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'abort("Execution not authorized")\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"5-handling-long-running-approvals-critical",children:"5. Handling Long-Running Approvals (Critical)"}),"\n",(0,t.jsxs)(n.p,{children:["Approvals may take ",(0,t.jsx)(n.strong,{children:"minutes, hours, or days"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["\u274c Do ",(0,t.jsx)(n.strong,{children:"not"})," rely on local RAM, in-process state, or sleeping threads."]}),"\n",(0,t.jsxs)(n.p,{children:["Gantral supports long-running waits via ",(0,t.jsx)(n.strong,{children:"two valid consumer patterns only"}),"."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"51-pattern-a--persisted-pause-preferred",children:"5.1 Pattern A \u2014 Persisted Pause (Preferred)"}),"\n",(0,t.jsxs)(n.p,{children:["Use this pattern ",(0,t.jsx)(n.strong,{children:"only if your agent framework supports native persistence / checkpointing"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["When Gantral enters ",(0,t.jsx)(n.code,{children:"WAITING_FOR_HUMAN"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Persist agent state using the framework\u2019s native mechanism"}),"\n",(0,t.jsx)(n.li,{children:"Exit the process cleanly (zero CPU usage)"}),"\n",(0,t.jsx)(n.li,{children:"Wait for Gantral to signal approval"}),"\n",(0,t.jsx)(n.li,{children:"Start a new process"}),"\n",(0,t.jsx)(n.li,{children:"Restore agent state from persistence"}),"\n",(0,t.jsx)(n.li,{children:"Resume execution"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Gantral manages ",(0,t.jsx)(n.strong,{children:"authority"}),".\nYour framework manages ",(0,t.jsx)(n.strong,{children:"agent memory"}),"."]}),"\n",(0,t.jsx)(n.h4,{id:"framework-examples",children:"Framework Examples"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"CrewAI Flows \u2192 native persistence (SQLite / Postgres)"}),"\n",(0,t.jsx)(n.li,{children:"LangGraph \u2192 checkpointing (SQLite / Redis / S3)"}),"\n"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Rule:"}),"\nIf your agent cannot restart from a checkpoint, you must not use this pattern."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"52-pattern-b--split-agent-pattern-mandatory-without-persistence",children:"5.2 Pattern B \u2014 Split-Agent Pattern (Mandatory Without Persistence)"}),"\n",(0,t.jsxs)(n.p,{children:["If your agent framework ",(0,t.jsx)(n.strong,{children:"cannot"})," resume from persisted state,\nyou must ",(0,t.jsx)(n.strong,{children:"split execution into stages"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["When Gantral enters ",(0,t.jsx)(n.code,{children:"WAITING_FOR_HUMAN"}),":"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Terminate the current agent execution"}),"\n",(0,t.jsx)(n.li,{children:"Persist only minimal handoff context (IDs, references, inputs)"}),"\n",(0,t.jsx)(n.li,{children:"Wait for Gantral approval"}),"\n",(0,t.jsx)(n.li,{children:"Start a new agent or workflow"}),"\n",(0,t.jsx)(n.li,{children:"Resume execution using the approved context"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Each stage is a ",(0,t.jsx)(n.strong,{children:"separate execution"}),", not a resumed process."]}),"\n",(0,t.jsx)(n.h4,{id:"example-split-flow",children:"Example Split Flow"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Agent A (pre-approval)\n \u251c\u2500 gather information\n \u251c\u2500 prepare action context\n \u251c\u2500 call Gantral\n \u2514\u2500 exit on WAITING_FOR_HUMAN\n\n[human authority decision]\n\nAgent B (post-approval)\n \u251c\u2500 load approved context\n \u251c\u2500 execute the action\n \u2514\u2500 complete\n"})}),"\n",(0,t.jsx)(n.h4,{id:"hard-rules-for-non-persistent-frameworks",children:"Hard Rules for Non-Persistent Frameworks"}),"\n",(0,t.jsx)(n.p,{children:"If your framework does not support persistence:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u274c Do NOT keep state in memory"}),"\n",(0,t.jsx)(n.li,{children:"\u274c Do NOT sleep or poll locally"}),"\n",(0,t.jsx)(n.li,{children:"\u274c Do NOT attempt to serialize internal agent memory"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 Split execution cleanly"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Violating these rules breaks auditability and is unsupported."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"53-choosing-the-correct-pattern",children:"5.3 Choosing the Correct Pattern"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Agent Capability"}),(0,t.jsx)(n.th,{children:"Required Pattern"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Native checkpointing"}),(0,t.jsx)(n.td,{children:"Persisted Pause"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"No checkpointing"}),(0,t.jsx)(n.td,{children:"Split-Agent Pattern"})]})]})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"6-required-consumer-rules-non-negotiable",children:"6. Required Consumer Rules (Non-Negotiable)"}),"\n",(0,t.jsxs)(n.p,{children:["Consumers ",(0,t.jsx)(n.strong,{children:"must"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Treat Gantral execution state as authoritative"}),"\n",(0,t.jsx)(n.li,{children:"Pause immediately when instructed"}),"\n",(0,t.jsx)(n.li,{children:"Persist or split execution correctly"}),"\n",(0,t.jsx)(n.li,{children:"Resume only when explicitly allowed"}),"\n",(0,t.jsx)(n.li,{children:"Use the execution context returned by Gantral"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Consumers ",(0,t.jsx)(n.strong,{children:"must not"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Execute speculatively"}),"\n",(0,t.jsx)(n.li,{children:"Retry locally while waiting"}),"\n",(0,t.jsx)(n.li,{children:"Cache approvals"}),"\n",(0,t.jsx)(n.li,{children:"Bypass Gantral on failure"}),"\n",(0,t.jsx)(n.li,{children:"Store agent memory inside Gantral context"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Violations ",(0,t.jsx)(n.strong,{children:"invalidate auditability"}),"."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"7-timeouts-and-escalation",children:"7. Timeouts and Escalation"}),"\n",(0,t.jsx)(n.p,{children:"Gantral may:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Apply approval timeouts"}),"\n",(0,t.jsx)(n.li,{children:"Escalate to different approvers"}),"\n",(0,t.jsx)(n.li,{children:"Terminate execution on timeout"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"As a consumer:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["You do ",(0,t.jsx)(n.strong,{children:"not"})," manage timeouts"]}),"\n",(0,t.jsx)(n.li,{children:"You react only to Gantral\u2019s execution state"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Timeout behavior is centrally enforced."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"8-error-handling-expectations",children:"8. Error Handling Expectations"}),"\n",(0,t.jsx)(n.p,{children:"If Gantral returns an error or ambiguous state:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Treat it as ",(0,t.jsx)(n.strong,{children:"no authority granted"})]}),"\n",(0,t.jsx)(n.li,{children:"Do not execute the action"}),"\n",(0,t.jsx)(n.li,{children:"Surface the failure to operators or logs"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Fail-open behavior is ",(0,t.jsx)(n.strong,{children:"never permitted"}),"."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"9-example-reference-implementation",children:"9. Example Reference Implementation"}),"\n",(0,t.jsx)(n.p,{children:"A working example is provided at:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"/examples/agent-proxy\n"})}),"\n",(0,t.jsx)(n.p,{children:"The example demonstrates:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Persisted pause on ",(0,t.jsx)(n.code,{children:"WAITING_FOR_HUMAN"})]}),"\n",(0,t.jsx)(n.li,{children:"Split-agent execution where persistence is unavailable"}),"\n",(0,t.jsx)(n.li,{children:"Process exit and restart semantics"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Use it as a ",(0,t.jsx)(n.strong,{children:"reference"}),", not as a dependency."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"10-what-this-guide-intentionally-does-not-cover",children:"10. What This Guide Intentionally Does Not Cover"}),"\n",(0,t.jsxs)(n.p,{children:["This guide does ",(0,t.jsx)(n.strong,{children:"not"})," explain:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Gantral\u2019s internal state machine"}),"\n",(0,t.jsx)(n.li,{children:"Policy authoring or Rego syntax"}),"\n",(0,t.jsx)(n.li,{children:"Audit or replay internals"}),"\n",(0,t.jsx)(n.li,{children:"Deployment or infrastructure setup"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Refer to the ",(0,t.jsx)(n.strong,{children:"TRD"})," and ",(0,t.jsx)(n.strong,{children:"Implementation Guide"})," for those topics."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"11-agent-logs-vs-execution-evidence",children:"11. Agent Logs vs Execution Evidence"}),"\n",(0,t.jsx)(n.p,{children:"Agent-side logs are useful for debugging."}),"\n",(0,t.jsxs)(n.p,{children:["They are ",(0,t.jsx)(n.strong,{children:"not sufficient"})," for execution authority or accountability."]}),"\n",(0,t.jsx)(n.p,{children:"For workflows requiring defensible approvals:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Tool inputs/outputs may be captured externally"}),"\n",(0,t.jsx)(n.li,{children:"Evidence must be immutable and independently attested"}),"\n",(0,t.jsxs)(n.li,{children:["Gantral consumes ",(0,t.jsx)(n.strong,{children:"references"}),", not raw payloads"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Gantral never treats agent logs as authoritative evidence."}),"\n",(0,t.jsx)(n.h3,{id:"optional-pattern-evidence-aware-approval",children:"Optional Pattern: Evidence-Aware Approval"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Agent invokes tool"}),"\n",(0,t.jsx)(n.li,{children:"Runner captures raw I/O"}),"\n",(0,t.jsx)(n.li,{children:"Evidence stored externally"}),"\n",(0,t.jsx)(n.li,{children:"Evidence reference attached to execution context"}),"\n",(0,t.jsx)(n.li,{children:"Human reviews \u2192 approves \u2192 execution resumes"}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"when-external-evidence-capture-is-recommended",children:"When External Evidence Capture Is Recommended"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Regulatory or financial decisions"}),"\n",(0,t.jsx)(n.li,{children:"Irreversible actions"}),"\n",(0,t.jsx)(n.li,{children:"Approvals that must be defensible months later"}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"when-agent-logs-are-sufficient",children:"When Agent Logs Are Sufficient"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Advisory workflows"}),"\n",(0,t.jsx)(n.li,{children:"Non-production environments"}),"\n",(0,t.jsx)(n.li,{children:"Low-impact actions"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"12-final-reminder",children:"12. Final Reminder"}),"\n",(0,t.jsx)(n.p,{children:"Gantral exists to ensure:"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Actions occur only when an organization is willing to be accountable for them."})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"As a consumer, your responsibility is simple:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Ask first.\nPause correctly.\nAct only when allowed."})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453(e,n,r){r.d(n,{R:()=>l,x:()=>a});var i=r(6540);const t={},s=i.createContext(t);function l(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);