"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[9245],{4847(e,n,s){s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"guides/example-consumer-integration","title":"Example Consumer Guide","description":"\u26a0\ufe0f This document is not a system specification.","source":"@site/../docs/guides/example-consumer-integration.md","sourceDirName":"guides","slug":"/guides/example-consumer-integration","permalink":"/guides/example-consumer-integration","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Example Consumer Guide"},"sidebar":"tutorialSidebar","previous":{"title":"End-to-End Demo","permalink":"/guides/demo"},"next":{"title":"OPA Integration","permalink":"/guides/opa-integration"}}');var i=s(4848),t=s(8453);const l={sidebar_position:2,title:"Example Consumer Guide"},a="Example Consumer Guide",o={},c=[{value:"How External Agents and Systems Should Use Gantral",id:"how-external-agents-and-systems-should-use-gantral",level:2},{value:"Purpose",id:"purpose",level:2},{value:"1. What Gantral Is (From a Consumer\u2019s Perspective)",id:"1-what-gantral-is-from-a-consumers-perspective",level:2},{value:"2. When You Should Call Gantral",id:"2-when-you-should-call-gantral",level:2},{value:"Examples",id:"examples",level:3},{value:"3. High-Level Integration Flow",id:"3-high-level-integration-flow",level:2},{value:"4. Minimal SDK Interaction Pattern",id:"4-minimal-sdk-interaction-pattern",level:2},{value:"Step 1: Create or Identify an Execution Instance",id:"step-1-create-or-identify-an-execution-instance",level:3},{value:"Step 2: Request a Decision",id:"step-2-request-a-decision",level:3},{value:"Step 3: Handle the Response",id:"step-3-handle-the-response",level:3},{value:"APPROVED",id:"approved",level:4},{value:"WAITING_FOR_HUMAN",id:"waiting_for_human",level:4},{value:"REJECTED",id:"rejected",level:4},{value:"TERMINATED",id:"terminated",level:4},{value:"5. Handling Long-Running Approvals (Critical)",id:"5-handling-long-running-approvals-critical",level:2},{value:"5.1 Pattern A \u2013 Persisted Pause (Preferred)",id:"51-pattern-a--persisted-pause-preferred",level:3},{value:"Framework Examples",id:"framework-examples",level:4},{value:"5.2 Pattern B \u2013 Split-Agent Pattern",id:"52-pattern-b--split-agent-pattern",level:3},{value:"The Split-Agent Pattern",id:"the-split-agent-pattern",level:4},{value:"Example Split Flow",id:"example-split-flow",level:4},{value:"Hard Rules for Non-Persistent Frameworks",id:"hard-rules-for-non-persistent-frameworks",level:4},{value:"5.3 Choosing the Correct Pattern",id:"53-choosing-the-correct-pattern",level:3},{value:"6. Required Consumer Behavior (Rules)",id:"6-required-consumer-behavior-rules",level:2},{value:"7. Timeouts and Escalation",id:"7-timeouts-and-escalation",level:2},{value:"8. Error Handling Expectations",id:"8-error-handling-expectations",level:2},{value:"9. Example Reference",id:"9-example-reference",level:2},{value:"10. What This Guide Intentionally Does Not Cover",id:"10-what-this-guide-intentionally-does-not-cover",level:2},{value:"11. Agent Logs vs Execution Evidence",id:"11-agent-logs-vs-execution-evidence",level:2},{value:"Optional Pattern: Evidence-Aware Approval",id:"optional-pattern-evidence-aware-approval",level:3},{value:"When External Evidence Capture Is Recommended",id:"when-external-evidence-capture-is-recommended",level:4},{value:"When Agent-Side Logging Is Sufficient",id:"when-agent-side-logging-is-sufficient",level:4},{value:"12. Final Reminder",id:"12-final-reminder",level:2}];function d(e){const n={blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"example-consumer-guide",children:"Example Consumer Guide"})}),"\n",(0,i.jsxs)(n.p,{children:["\u26a0\ufe0f ",(0,i.jsx)(n.strong,{children:"This document is not a system specification."})]}),"\n",(0,i.jsxs)(n.p,{children:["It is the ",(0,i.jsx)(n.strong,{children:"normative usage guide"})," for external consumers (agents, tools, workflows) integrating with Gantral."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"how-external-agents-and-systems-should-use-gantral",children:"How External Agents and Systems Should Use Gantral"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Status:"})," Consumption guide (normative for consumers)",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Audience:"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Agent developers"}),"\n",(0,i.jsx)(n.li,{children:"Platform engineers integrating Gantral"}),"\n",(0,i.jsx)(n.li,{children:"Teams building tools, automations, or workflows that require human approval"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"purpose",children:"Purpose"}),"\n",(0,i.jsxs)(n.p,{children:["This guide explains ",(0,i.jsx)(n.strong,{children:"when and how external agents and systems should consume Gantral"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["It answers ",(0,i.jsx)(n.strong,{children:"one question only"}),":"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"When and how should my agent or system call Gantral?"})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["This guide is intentionally narrow.",(0,i.jsx)(n.br,{}),"\n","It does ",(0,i.jsx)(n.strong,{children:"not"})," explain how Gantral works internally."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"1-what-gantral-is-from-a-consumers-perspective",children:"1. What Gantral Is (From a Consumer\u2019s Perspective)"}),"\n",(0,i.jsxs)(n.p,{children:["Gantral is an ",(0,i.jsx)(n.strong,{children:"execution control plane"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"From the outside, Gantral:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Receives a request to perform a sensitive action"}),"\n",(0,i.jsx)(n.li,{children:"Decides whether execution may continue"}),"\n",(0,i.jsx)(n.li,{children:"Pauses execution if human approval is required"}),"\n",(0,i.jsx)(n.li,{children:"Resumes or terminates execution based on that decision"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Gantral is ",(0,i.jsx)(n.strong,{children:"not"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"An agent framework"}),"\n",(0,i.jsx)(n.li,{children:"A task runner"}),"\n",(0,i.jsx)(n.li,{children:"A policy engine"}),"\n",(0,i.jsx)(n.li,{children:"A workflow orchestrator"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["As a consumer, you treat Gantral as a ",(0,i.jsx)(n.strong,{children:"decision gate"}),", not as a runtime."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"2-when-you-should-call-gantral",children:"2. When You Should Call Gantral"}),"\n",(0,i.jsxs)(n.p,{children:["You should call Gantral ",(0,i.jsx)(n.strong,{children:"before executing any action"})," that:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Has irreversible side effects"}),"\n",(0,i.jsx)(n.li,{children:"Affects production systems"}),"\n",(0,i.jsx)(n.li,{children:"Has regulatory, financial, or security impact"}),"\n",(0,i.jsx)(n.li,{children:"Requires human accountability"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Deleting production infrastructure"}),"\n",(0,i.jsx)(n.li,{children:"Executing high-cost AI operations"}),"\n",(0,i.jsx)(n.li,{children:"Triggering payments or refunds"}),"\n",(0,i.jsx)(n.li,{children:"Sending external communications"}),"\n",(0,i.jsx)(n.li,{children:"Making customer-impacting changes"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["If an action can be safely retried, undone, or sandboxed, Gantral is usually ",(0,i.jsx)(n.strong,{children:"not required"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"3-high-level-integration-flow",children:"3. High-Level Integration Flow"}),"\n",(0,i.jsx)(n.p,{children:"From a consumer\u2019s point of view, the flow is always:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Prepare action context"}),"\n",(0,i.jsx)(n.li,{children:"Ask Gantral for a decision"}),"\n",(0,i.jsx)(n.li,{children:"Handle Gantral\u2019s response"}),"\n",(0,i.jsx)(n.li,{children:"Either wait, resume, or abort"}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Your system must not execute the action until Gantral explicitly allows it."})}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"4-minimal-sdk-interaction-pattern",children:"4. Minimal SDK Interaction Pattern"}),"\n",(0,i.jsxs)(n.p,{children:["Exact function names may vary by SDK.",(0,i.jsx)(n.br,{}),"\n","The ",(0,i.jsx)(n.strong,{children:"semantics do not"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"step-1-create-or-identify-an-execution-instance",children:"Step 1: Create or Identify an Execution Instance"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"instance = gantral.create_instance(\n    workflow_id,\n    workflow_version,\n    context\n)\n"})}),"\n",(0,i.jsxs)(n.p,{children:["This represents a ",(0,i.jsx)(n.strong,{children:"single execution attempt"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"step-2-request-a-decision",children:"Step 2: Request a Decision"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'response = gantral.request_decision(\n    instance_id = instance.id,\n    actor_id = "agent-or-service-id",\n    action_context\n)\n'})}),"\n",(0,i.jsx)(n.p,{children:"Gantral evaluates policy and execution state."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"step-3-handle-the-response",children:"Step 3: Handle the Response"}),"\n",(0,i.jsxs)(n.p,{children:["Gantral will return ",(0,i.jsx)(n.strong,{children:"one of the following outcomes"}),"."]}),"\n",(0,i.jsx)(n.h4,{id:"approved",children:"APPROVED"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"You may proceed with execution"}),"\n",(0,i.jsxs)(n.li,{children:["Use the ",(0,i.jsx)(n.strong,{children:"exact context returned by Gantral"})]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"execute(action)\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"waiting_for_human",children:"WAITING_FOR_HUMAN"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Do not"})," execute the action"]}),"\n",(0,i.jsx)(n.li,{children:"Pause the agent or workflow"}),"\n",(0,i.jsx)(n.li,{children:"Follow the appropriate pause pattern (see Section 5)"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"wait_for_update(instance_id)\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"rejected",children:"REJECTED"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Do not execute the action"}),"\n",(0,i.jsx)(n.li,{children:"Abort the workflow"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'abort("Rejected by policy or human")\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h4,{id:"terminated",children:"TERMINATED"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Treat as a hard stop"}),"\n",(0,i.jsx)(n.li,{children:"Do not retry"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"5-handling-long-running-approvals-critical",children:"5. Handling Long-Running Approvals (Critical)"}),"\n",(0,i.jsxs)(n.p,{children:["Many approvals take ",(0,i.jsx)(n.strong,{children:"minutes, hours, or days"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["\u274c Do ",(0,i.jsx)(n.strong,{children:"not"})," rely on local RAM or in-process state for these waits."]}),"\n",(0,i.jsxs)(n.p,{children:["Gantral supports long-running approvals via ",(0,i.jsx)(n.strong,{children:"two valid consumer patterns"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"51-pattern-a--persisted-pause-preferred",children:"5.1 Pattern A \u2013 Persisted Pause (Preferred)"}),"\n",(0,i.jsxs)(n.p,{children:["Use this pattern ",(0,i.jsx)(n.strong,{children:"only if your agent framework supports native persistence / checkpointing"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["When Gantral returns ",(0,i.jsx)(n.code,{children:"WAITING_FOR_HUMAN"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Persist agent state using the framework\u2019s native checkpointing"}),"\n",(0,i.jsx)(n.li,{children:"Exit the process cleanly (zero CPU usage)"}),"\n",(0,i.jsx)(n.li,{children:"Wait for Gantral to signal approval"}),"\n",(0,i.jsx)(n.li,{children:"Start a new process"}),"\n",(0,i.jsx)(n.li,{children:"Restore agent state from persistence"}),"\n",(0,i.jsx)(n.li,{children:"Resume execution"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Gantral manages ",(0,i.jsx)(n.strong,{children:"execution authority"}),".\nYour framework manages ",(0,i.jsx)(n.strong,{children:"agent memory"}),"."]}),"\n",(0,i.jsx)(n.h4,{id:"framework-examples",children:"Framework Examples"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["CrewAI Flows \u2192 ",(0,i.jsx)(n.code,{children:"@persist"})," (SQLite / Postgres)"]}),"\n",(0,i.jsx)(n.li,{children:"LangGraph \u2192 Checkpointers (SQLite / Redis / S3)"}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Rule:"})," If your agent cannot be restarted from a checkpoint, you must not use this pattern."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"52-pattern-b--split-agent-pattern",children:"5.2 Pattern B \u2013 Split-Agent Pattern"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"(Mandatory if No Persistence)"})}),"\n",(0,i.jsxs)(n.p,{children:["Some agent frameworks do ",(0,i.jsx)(n.strong,{children:"not"})," support native checkpointing or resume."]}),"\n",(0,i.jsxs)(n.p,{children:["If your agent ",(0,i.jsx)(n.strong,{children:"cannot"})," be restarted from persisted state, you must ",(0,i.jsx)(n.strong,{children:"not"})," pause execution in memory."]}),"\n",(0,i.jsxs)(n.p,{children:["You must split execution into ",(0,i.jsx)(n.strong,{children:"multiple stages"}),"."]}),"\n",(0,i.jsx)(n.h4,{id:"the-split-agent-pattern",children:"The Split-Agent Pattern"}),"\n",(0,i.jsxs)(n.p,{children:["When Gantral returns ",(0,i.jsx)(n.code,{children:"WAITING_FOR_HUMAN"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Terminate the current agent execution"}),"\n",(0,i.jsxs)(n.li,{children:["Persist ",(0,i.jsx)(n.strong,{children:"only minimal handoff context"}),"\n(IDs, references, inputs \u2014 not internal memory)"]}),"\n",(0,i.jsx)(n.li,{children:"Wait for Gantral approval"}),"\n",(0,i.jsx)(n.li,{children:"Start a new agent or workflow"}),"\n",(0,i.jsx)(n.li,{children:"Resume execution using the approved context"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Each stage is a ",(0,i.jsx)(n.strong,{children:"separate execution"}),", not a resumed process."]}),"\n",(0,i.jsx)(n.h4,{id:"example-split-flow",children:"Example Split Flow"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Agent A (pre-approval)\n \u251c\u2500 gathers information\n \u251c\u2500 prepares action context\n \u251c\u2500 calls Gantral\n \u2514\u2500 exits on WAITING_FOR_HUMAN\n\n[human approval happens]\n\nAgent B (post-approval)\n \u251c\u2500 loads approved context\n \u251c\u2500 performs the action\n \u2514\u2500 completes execution\n"})}),"\n",(0,i.jsx)(n.h4,{id:"hard-rules-for-non-persistent-frameworks",children:"Hard Rules for Non-Persistent Frameworks"}),"\n",(0,i.jsx)(n.p,{children:"If your framework does not support persistence:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u274c Do NOT keep agent state in memory"}),"\n",(0,i.jsx)(n.li,{children:"\u274c Do NOT sleep, poll, or block locally"}),"\n",(0,i.jsx)(n.li,{children:"\u274c Do NOT attempt to serialize internal agent state yourself"}),"\n",(0,i.jsx)(n.li,{children:"\u2705 Do split execution into pre-approval and post-approval stages"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Failure to follow this pattern breaks auditability and is ",(0,i.jsx)(n.strong,{children:"not supported"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"53-choosing-the-correct-pattern",children:"5.3 Choosing the Correct Pattern"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Agent Framework Capability"}),(0,i.jsx)(n.th,{children:"Required Pattern"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Native checkpointing"}),(0,i.jsx)(n.td,{children:"Persisted Pause"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"No checkpointing"}),(0,i.jsx)(n.td,{children:"Split-Agent Pattern"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"6-required-consumer-behavior-rules",children:"6. Required Consumer Behavior (Rules)"}),"\n",(0,i.jsxs)(n.p,{children:["Consumers ",(0,i.jsx)(n.strong,{children:"must"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Treat Gantral decisions as authoritative"}),"\n",(0,i.jsx)(n.li,{children:"Pause execution when instructed"}),"\n",(0,i.jsx)(n.li,{children:"Persist state or split execution correctly"}),"\n",(0,i.jsx)(n.li,{children:"Resume only when explicitly allowed"}),"\n",(0,i.jsx)(n.li,{children:"Use the context returned by Gantral"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Consumers ",(0,i.jsx)(n.strong,{children:"must not"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Retry locally while waiting for approval"}),"\n",(0,i.jsx)(n.li,{children:"Execute actions speculatively"}),"\n",(0,i.jsx)(n.li,{children:"Cache approval decisions"}),"\n",(0,i.jsx)(n.li,{children:"Bypass Gantral on failure"}),"\n",(0,i.jsx)(n.li,{children:"Store agent memory inside Gantral context"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Violating these rules ",(0,i.jsx)(n.strong,{children:"breaks auditability"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"7-timeouts-and-escalation",children:"7. Timeouts and Escalation"}),"\n",(0,i.jsx)(n.p,{children:"Gantral may:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Apply timeouts while waiting for approval"}),"\n",(0,i.jsx)(n.li,{children:"Escalate to different approvers"}),"\n",(0,i.jsx)(n.li,{children:"Terminate execution on timeout"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"As a consumer:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["You do ",(0,i.jsx)(n.strong,{children:"not"})," manage timeouts yourself"]}),"\n",(0,i.jsx)(n.li,{children:"You must react to Gantral\u2019s final state"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Timeout behavior is controlled ",(0,i.jsx)(n.strong,{children:"centrally"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"8-error-handling-expectations",children:"8. Error Handling Expectations"}),"\n",(0,i.jsx)(n.p,{children:"If Gantral returns an error:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Treat it as ",(0,i.jsx)(n.strong,{children:"no approval granted"})]}),"\n",(0,i.jsx)(n.li,{children:"Do not execute the action"}),"\n",(0,i.jsx)(n.li,{children:"Surface the error to operators or logs"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Failing open is ",(0,i.jsx)(n.strong,{children:"never permitted"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"9-example-reference",children:"9. Example Reference"}),"\n",(0,i.jsx)(n.p,{children:"A complete working example is provided at:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"/examples/agent-proxy\n"})}),"\n",(0,i.jsx)(n.p,{children:"The example demonstrates:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Persisted pause on ",(0,i.jsx)(n.code,{children:"WAITING_FOR_HUMAN"})]}),"\n",(0,i.jsx)(n.li,{children:"Split-agent execution where persistence is unavailable"}),"\n",(0,i.jsx)(n.li,{children:"Process exit and restart"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Use it as a ",(0,i.jsx)(n.strong,{children:"reference"}),", not as a library."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"10-what-this-guide-intentionally-does-not-cover",children:"10. What This Guide Intentionally Does Not Cover"}),"\n",(0,i.jsxs)(n.p,{children:["This guide does ",(0,i.jsx)(n.strong,{children:"not"})," explain:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Gantral\u2019s internal state machine"}),"\n",(0,i.jsx)(n.li,{children:"Policy authoring or Rego syntax"}),"\n",(0,i.jsx)(n.li,{children:"Audit and replay internals"}),"\n",(0,i.jsx)(n.li,{children:"Deployment or infrastructure setup"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Refer to the ",(0,i.jsx)(n.strong,{children:"TRD"})," and ",(0,i.jsx)(n.strong,{children:"Implementation Guide"})," for those topics."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"11-agent-logs-vs-execution-evidence",children:"11. Agent Logs vs Execution Evidence"}),"\n",(0,i.jsx)(n.p,{children:"Agent-side logging is useful for debugging."}),"\n",(0,i.jsxs)(n.p,{children:["It is ",(0,i.jsx)(n.strong,{children:"not sufficient"})," for execution authority, auditability, or human accountability."]}),"\n",(0,i.jsx)(n.p,{children:"For workflows requiring defensible approvals:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Tool inputs/outputs may be captured outside the agent"}),"\n",(0,i.jsx)(n.li,{children:"Evidence must be immutable and independently attested"}),"\n",(0,i.jsxs)(n.li,{children:["Gantral consumes ",(0,i.jsx)(n.strong,{children:"references"}),", not raw payloads"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Gantral never trusts agent logs as authoritative evidence."}),"\n",(0,i.jsx)(n.h3,{id:"optional-pattern-evidence-aware-approval",children:"Optional Pattern: Evidence-Aware Approval"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Agent calls tool"}),"\n",(0,i.jsx)(n.li,{children:"Runner captures raw I/O"}),"\n",(0,i.jsx)(n.li,{children:"Evidence stored externally"}),"\n",(0,i.jsx)(n.li,{children:"Evidence reference attached to execution context"}),"\n",(0,i.jsx)(n.li,{children:"Human reviews \u2192 approves \u2192 execution resumes"}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"when-external-evidence-capture-is-recommended",children:"When External Evidence Capture Is Recommended"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Regulatory, financial, or safety-critical approvals"}),"\n",(0,i.jsx)(n.li,{children:"Decisions that must be defensible months later"}),"\n",(0,i.jsx)(n.li,{children:"Irreversible actions"}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"when-agent-side-logging-is-sufficient",children:"When Agent-Side Logging Is Sufficient"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Advisory or exploratory workflows"}),"\n",(0,i.jsx)(n.li,{children:"Non-production environments"}),"\n",(0,i.jsx)(n.li,{children:"Actions with no lasting side effects"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"12-final-reminder",children:"12. Final Reminder"}),"\n",(0,i.jsx)(n.p,{children:"Gantral exists to ensure:"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Actions happen only when an organization is willing to be accountable for them."})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"As a consumer, your responsibility is simple:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Ask first. Persist or split correctly. Act only when allowed."})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453(e,n,s){s.d(n,{R:()=>l,x:()=>a});var r=s(6540);const i={},t=r.createContext(i);function l(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);