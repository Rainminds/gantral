"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[4977],{6989(e,n,i){i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"architecture/implementation-guide","title":"Implementation Guide","description":"----------------------------------","source":"@site/../docs/architecture/implementation-guide.md","sourceDirName":"architecture","slug":"/architecture/implementation-guide","permalink":"/architecture/implementation-guide","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Implementation Guide"},"sidebar":"tutorialSidebar","previous":{"title":"State Machine","permalink":"/architecture/state-machine"},"next":{"title":"Execution Authority vs Agent Memory vs Runtime","permalink":"/architecture/execution-authority-vs-agent-memory"}}');var t=i(4848),l=i(8453);const r={sidebar_position:3,title:"Implementation Guide"},d=void 0,c={},o=[{value:"Purpose",id:"purpose",level:2},{value:"0. How This Guide Should Be Used",id:"0-how-this-guide-should-be-used",level:2},{value:"0.1 Documentation Hierarchy (Non-Negotiable)",id:"01-documentation-hierarchy-non-negotiable",level:3},{value:"1. System Responsibilities (Explicit)",id:"1-system-responsibilities-explicit",level:2},{value:"1.1 What Gantral Owns",id:"11-what-gantral-owns",level:3},{value:"1.2 What Gantral Explicitly Does NOT Own",id:"12-what-gantral-explicitly-does-not-own",level:3},{value:"2. Separation of Duties (Enterprise Requirement)",id:"2-separation-of-duties-enterprise-requirement",level:2},{value:"3. Execution Engine (Phase 1)",id:"3-execution-engine-phase-1",level:2},{value:"Responsibility",id:"responsibility",level:3},{value:"Canonical States",id:"canonical-states",level:3},{value:"Implementation Guidance",id:"implementation-guidance",level:3},{value:"4. HITL State Machine (Phase 1)",id:"4-hitl-state-machine-phase-1",level:2},{value:"Responsibility",id:"responsibility-1",level:3},{value:"Required Guarantees",id:"required-guarantees",level:3},{value:"Override Semantics (Critical)",id:"override-semantics-critical",level:3},{value:"Timeout Handling (Critical)",id:"timeout-handling-critical",level:3},{value:"5. Policy Evaluation Layer (Phase 2)",id:"5-policy-evaluation-layer-phase-2",level:2},{value:"Core Principle",id:"core-principle",level:3},{value:"When It Runs",id:"when-it-runs",level:3},{value:"What It Produces (Advisory Signals)",id:"what-it-produces-advisory-signals",level:3},{value:"6. Policy Evaluation Interface (Contract)",id:"6-policy-evaluation-interface-contract",level:2},{value:"Input (TRD-Aligned)",id:"input-trd-aligned",level:3},{value:"Output (Advisory Only)",id:"output-advisory-only",level:3},{value:"7. Execution History, Audit &amp; Replay",id:"7-execution-history-audit--replay",level:2},{value:"Responsibility",id:"responsibility-2",level:3},{value:"Determinism Model",id:"determinism-model",level:3},{value:"8. APIs &amp; SDKs",id:"8-apis--sdks",level:2},{value:"API Principles",id:"api-principles",level:3},{value:"SDKs",id:"sdks",level:3},{value:"9. Adapters &amp; Framework-Native Integrations",id:"9-adapters--framework-native-integrations",level:2},{value:"Responsibility",id:"responsibility-3",level:3},{value:"9.1 Framework-Native Agent Integrations (Critical)",id:"91-framework-native-agent-integrations-critical",level:3},{value:"Required Runner / SDK Behavior",id:"required-runner--sdk-behavior",level:4},{value:"Suspension Handling",id:"suspension-handling",level:4},{value:"Resume Handling",id:"resume-handling",level:4},{value:"10. Security, Identity &amp; Federation",id:"10-security-identity--federation",level:2},{value:"10.1 Human Identity",id:"101-human-identity",level:3},{value:"10.2 Machine Identity",id:"102-machine-identity",level:3},{value:"10.3 Secrets &amp; Connections",id:"103-secrets--connections",level:3},{value:"11. Runner Pattern (Federated Execution)",id:"11-runner-pattern-federated-execution",level:2},{value:"12. Optional Tool Mediation &amp; Evidence Capture (Runner-Side)",id:"12-optional-tool-mediation--evidence-capture-runner-side",level:2},{value:"Constraints",id:"constraints",level:3},{value:"Non-Goals",id:"non-goals",level:3},{value:"13. Deployment Model",id:"13-deployment-model",level:2},{value:"14. Implementation Phases",id:"14-implementation-phases",level:2},{value:"15. What This Guide Protects Against",id:"15-what-this-guide-protects-against",level:2},{value:"16. Final Reminder",id:"16-final-reminder",level:2}];function a(e){const n={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"purpose",children:"Purpose"}),"\n",(0,t.jsxs)(n.p,{children:["This document translates the ",(0,t.jsx)(n.strong,{children:"Gantral PRD and TRD v4"})," into a ",(0,t.jsx)(n.strong,{children:"buildable, implementation-accurate guide"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"It incorporates the finalized architectural clarifications:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Gantral owns ",(0,t.jsx)(n.strong,{children:"execution authority and control state"})]}),"\n",(0,t.jsxs)(n.li,{children:["Agent frameworks own ",(0,t.jsx)(n.strong,{children:"agent internal state and memory"})]}),"\n",(0,t.jsxs)(n.li,{children:["Long-running approvals require ",(0,t.jsx)(n.strong,{children:"agent-native checkpointing"})]}),"\n",(0,t.jsxs)(n.li,{children:["Deterministic execution and replay are guaranteed by a ",(0,t.jsx)(n.strong,{children:"workflow runtime (e.g. Temporal)"})]}),"\n"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Rule:"})," If this guide conflicts with the TRD, the TRD is correct."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"0-how-this-guide-should-be-used",children:"0. How This Guide Should Be Used"}),"\n",(0,t.jsx)(n.h3,{id:"01-documentation-hierarchy-non-negotiable",children:"0.1 Documentation Hierarchy (Non-Negotiable)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"PRD \u2192 TRD \u2192 Implementation Guide (this document)\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["PRD defines ",(0,t.jsx)(n.strong,{children:"why"})," Gantral exists"]}),"\n",(0,t.jsxs)(n.li,{children:["TRD defines ",(0,t.jsx)(n.strong,{children:"what must be true"})]}),"\n",(0,t.jsxs)(n.li,{children:["This guide defines ",(0,t.jsx)(n.strong,{children:"one correct way to build it"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"This guide is replaceable. The TRD is not."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"1-system-responsibilities-explicit",children:"1. System Responsibilities (Explicit)"}),"\n",(0,t.jsx)(n.h3,{id:"11-what-gantral-owns",children:"1.1 What Gantral Owns"}),"\n",(0,t.jsxs)(n.p,{children:["Gantral is an ",(0,t.jsx)(n.strong,{children:"execution authority layer"}),". It owns:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Execution lifecycle and immutable instance boundaries"}),"\n",(0,t.jsx)(n.li,{children:"Canonical execution state machine"}),"\n",(0,t.jsx)(n.li,{children:"Human-in-the-Loop (HITL) enforcement"}),"\n",(0,t.jsx)(n.li,{children:"Authority transitions (APPROVE / REJECT / OVERRIDE)"}),"\n",(0,t.jsxs)(n.li,{children:["Policy gating as ",(0,t.jsx)(n.strong,{children:"transition guards"})]}),"\n",(0,t.jsx)(n.li,{children:"Time, retries, escalation, and timeout semantics"}),"\n",(0,t.jsx)(n.li,{children:"Instance-level audit correctness"}),"\n",(0,t.jsx)(n.li,{children:"Deterministic replay of execution decisions (via workflow runtime)"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"12-what-gantral-explicitly-does-not-own",children:"1.2 What Gantral Explicitly Does NOT Own"}),"\n",(0,t.jsxs)(n.p,{children:["Gantral does ",(0,t.jsx)(n.strong,{children:"not"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Perform agent reasoning, planning, or cognition"}),"\n",(0,t.jsx)(n.li,{children:"Manage prompts, tools, or agent memory"}),"\n",(0,t.jsx)(n.li,{children:"Persist or serialize agent internal state"}),"\n",(0,t.jsx)(n.li,{children:"Decide outcomes autonomously"}),"\n",(0,t.jsx)(n.li,{children:"Store secrets or credentials"}),"\n",(0,t.jsx)(n.li,{children:"Act as an identity provider"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Gantral governs ",(0,t.jsx)(n.strong,{children:"whether execution may proceed"}),", not ",(0,t.jsx)(n.strong,{children:"how agents reason"}),"."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"2-separation-of-duties-enterprise-requirement",children:"2. Separation of Duties (Enterprise Requirement)"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Function"}),(0,t.jsx)(n.th,{children:"Owner"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Agent reasoning & memory"}),(0,t.jsx)(n.td,{children:"Agent frameworks (CrewAI, LangGraph, etc.)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Agent execution"}),(0,t.jsx)(n.td,{children:"Runners"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Agent checkpointing"}),(0,t.jsx)(n.td,{children:"Agent frameworks (native persistence)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Policy authoring"}),(0,t.jsx)(n.td,{children:"Platform / Risk / Compliance"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Policy evaluation"}),(0,t.jsx)(n.td,{children:"Pluggable policy engine"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Execution control"}),(0,t.jsx)(n.td,{children:"Gantral"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Approval decisions"}),(0,t.jsx)(n.td,{children:"Humans"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Audit & review"}),(0,t.jsx)(n.td,{children:"Independent audit teams"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:"No component may cross these boundaries."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"3-execution-engine-phase-1",children:"3. Execution Engine (Phase 1)"}),"\n",(0,t.jsx)(n.h3,{id:"responsibility",children:"Responsibility"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Enforce canonical execution states"}),"\n",(0,t.jsx)(n.li,{children:"Persist immutable execution events"}),"\n",(0,t.jsx)(n.li,{children:"Reject invalid or out-of-order transitions"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"canonical-states",children:"Canonical States"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"CREATED \u2192 RUNNING \u2192 WAITING_FOR_HUMAN \u2192 APPROVED | REJECTED | OVERRIDDEN\n                     \u2193                \u2193\n                  RESUMED         TERMINATED \u2192 COMPLETED\n"})}),"\n",(0,t.jsx)(n.h3,{id:"implementation-guidance",children:"Implementation Guidance"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Event-sourced execution model"}),"\n",(0,t.jsx)(n.li,{children:"Append-only execution history"}),"\n",(0,t.jsx)(n.li,{children:"Idempotent transition handlers"}),"\n",(0,t.jsx)(n.li,{children:"No implicit or hidden state mutation"}),"\n"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"AI assistant instruction:"})," Implement the state machine exactly as specified. Do not add states."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"4-hitl-state-machine-phase-1",children:"4. HITL State Machine (Phase 1)"}),"\n",(0,t.jsx)(n.h3,{id:"responsibility-1",children:"Responsibility"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Encode human authority as an execution state"}),"\n",(0,t.jsx)(n.li,{children:"Prevent agents from resuming execution autonomously"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"required-guarantees",children:"Required Guarantees"}),"\n",(0,t.jsx)(n.p,{children:"Each HITL decision must capture:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"human_actor_id"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"role"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"timestamp"})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"decision"})," (APPROVE / REJECT / OVERRIDE)"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"context_snapshot"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"justification"})}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"override-semantics-critical",children:"Override Semantics (Critical)"}),"\n",(0,t.jsxs)(n.p,{children:["For ",(0,t.jsx)(n.strong,{children:"OVERRIDDEN"})," (and optionally APPROVED) decisions:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"context_delta"})," (or equivalent override payload) is mandatory"]}),"\n",(0,t.jsxs)(n.li,{children:["Execution resumes ",(0,t.jsx)(n.strong,{children:"only"})," with modified context"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"timeout-handling-critical",children:"Timeout Handling (Critical)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"HITL waits are subject to policy-defined timeouts"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"On timeout expiry:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Emit a ",(0,t.jsx)(n.code,{children:"TIMEOUT"})," execution event"]}),"\n",(0,t.jsx)(n.li,{children:"Apply policy-defined behavior (fail-closed or escalate)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Timeout handling is ",(0,t.jsx)(n.strong,{children:"execution control"}),", not policy evaluation."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"5-policy-evaluation-layer-phase-2",children:"5. Policy Evaluation Layer (Phase 2)"}),"\n",(0,t.jsx)(n.h3,{id:"core-principle",children:"Core Principle"}),"\n",(0,t.jsxs)(n.p,{children:["Policy evaluation is a ",(0,t.jsx)(n.strong,{children:"transition guard"}),", not an execution state and not an authority."]}),"\n",(0,t.jsx)(n.h3,{id:"when-it-runs",children:"When It Runs"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Synchronously during execution transitions"}),"\n",(0,t.jsxs)(n.li,{children:["Before entering ",(0,t.jsx)(n.code,{children:"WAITING_FOR_HUMAN"})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"what-it-produces-advisory-signals",children:"What It Produces (Advisory Signals)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"ALLOW"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"REQUIRE_HUMAN"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"DENY"})}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Policy results are ",(0,t.jsx)(n.strong,{children:"never persisted"})," as durable execution state."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"6-policy-evaluation-interface-contract",children:"6. Policy Evaluation Interface (Contract)"}),"\n",(0,t.jsx)(n.h3,{id:"input-trd-aligned",children:"Input (TRD-Aligned)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"instance_id"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"workflow_id"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"workflow_version"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"materiality"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"current_state"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"actor_id"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"roles"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"execution_context"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"policy_version_id"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"dry_run"})}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"output-advisory-only",children:"Output (Advisory Only)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"decision"})," (ALLOW / REQUIRE_HUMAN / DENY)"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"eligible_approver_roles"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"escalation_roles"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"timeout"})}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Gantral remains the ",(0,t.jsx)(n.strong,{children:"sole enforcement authority"}),"."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"7-execution-history-audit--replay",children:"7. Execution History, Audit & Replay"}),"\n",(0,t.jsx)(n.h3,{id:"responsibility-2",children:"Responsibility"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Store authoritative execution records"}),"\n",(0,t.jsx)(n.li,{children:"Enable deterministic replay of authority decisions"}),"\n",(0,t.jsx)(n.li,{children:"Support regulatory audits"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"determinism-model",children:"Determinism Model"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Gantral workflows execute inside a deterministic workflow runtime"}),"\n",(0,t.jsx)(n.li,{children:"Replay re-executes workflow logic from recorded execution history"}),"\n",(0,t.jsxs)(n.li,{children:["Replay does ",(0,t.jsx)(n.strong,{children:"not"})," rehydrate agent internal memory"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Agent memory replay is optional and ",(0,t.jsx)(n.strong,{children:"non-authoritative"}),"."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"8-apis--sdks",children:"8. APIs & SDKs"}),"\n",(0,t.jsx)(n.h3,{id:"api-principles",children:"API Principles"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Explicit state transitions"}),"\n",(0,t.jsx)(n.li,{children:"Versioned endpoints"}),"\n",(0,t.jsx)(n.li,{children:"No implicit side effects"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"sdks",children:"SDKs"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Thin wrappers only"}),"\n",(0,t.jsx)(n.li,{children:"No business logic"}),"\n",(0,t.jsx)(n.li,{children:"Server remains the source of truth"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"9-adapters--framework-native-integrations",children:"9. Adapters & Framework-Native Integrations"}),"\n",(0,t.jsx)(n.h3,{id:"responsibility-3",children:"Responsibility"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Translate external events into Gantral triggers"}),"\n",(0,t.jsx)(n.li,{children:"Forward execution decisions back to external systems"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Adapters contain ",(0,t.jsx)(n.strong,{children:"no business logic"}),", ",(0,t.jsx)(n.strong,{children:"no policy checks"}),", and ",(0,t.jsx)(n.strong,{children:"no execution authority"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"91-framework-native-agent-integrations-critical",children:"9.1 Framework-Native Agent Integrations (Critical)"}),"\n",(0,t.jsxs)(n.p,{children:["Runners and SDKs must support ",(0,t.jsx)(n.strong,{children:"agent-native suspension and resume semantics"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"Agent frameworks may deliberately suspend execution when:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"HITL approval is required"}),"\n",(0,t.jsx)(n.li,{children:"Execution must pause for an extended duration"}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"required-runner--sdk-behavior",children:"Required Runner / SDK Behavior"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Agent Outcome"}),(0,t.jsx)(n.th,{children:"Meaning"}),(0,t.jsx)(n.th,{children:"Gantral Action"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Completed"}),(0,t.jsx)(n.td,{children:"Agent finished normally"}),(0,t.jsxs)(n.td,{children:["Transition to ",(0,t.jsx)(n.code,{children:"COMPLETED"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Failed"}),(0,t.jsx)(n.td,{children:"Agent crashed or errored"}),(0,t.jsxs)(n.td,{children:["Transition to ",(0,t.jsx)(n.code,{children:"TERMINATED"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Suspended"}),(0,t.jsx)(n.td,{children:"Agent checkpointed and exited"}),(0,t.jsxs)(n.td,{children:["Transition to ",(0,t.jsx)(n.code,{children:"WAITING_FOR_HUMAN"})]})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"suspension-handling",children:"Suspension Handling"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Agent framework persists internal state using native checkpointing"}),"\n",(0,t.jsx)(n.li,{children:"Agent process exits cleanly"}),"\n",(0,t.jsxs)(n.li,{children:["Runner emits a ",(0,t.jsx)(n.code,{children:"SUSPENDED"})," execution event"]}),"\n",(0,t.jsx)(n.li,{children:"Gantral workflow waits on approval signal"}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"resume-handling",children:"Resume Handling"}),"\n",(0,t.jsx)(n.p,{children:"Upon APPROVED / OVERRIDDEN:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Gantral schedules a new execution task"}),"\n",(0,t.jsx)(n.li,{children:"Runner launches a new agent process"}),"\n",(0,t.jsx)(n.li,{children:"Agent framework restores state from checkpoint"}),"\n",(0,t.jsx)(n.li,{children:"Execution resumes deterministically"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Gantral never loads, inspects, or persists agent internal state."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"10-security-identity--federation",children:"10. Security, Identity & Federation"}),"\n",(0,t.jsx)(n.h3,{id:"101-human-identity",children:"10.1 Human Identity"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"OIDC federation only (Okta, Azure AD, etc.)"}),"\n",(0,t.jsx)(n.li,{children:"Identity derived from token claims"}),"\n",(0,t.jsx)(n.li,{children:"No Gantral-managed users"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"102-machine-identity",children:"10.2 Machine Identity"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Workload identity (AWS IAM, Kubernetes Service Accounts, etc.)"}),"\n",(0,t.jsx)(n.li,{children:"No static API keys"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"103-secrets--connections",children:"10.3 Secrets & Connections"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Gantral stores references only (e.g. ",(0,t.jsx)(n.code,{children:"vault://..."}),")"]}),"\n",(0,t.jsx)(n.li,{children:"Secrets resolved by Runners at execution edge"}),"\n",(0,t.jsx)(n.li,{children:"Raw credentials never enter Gantral"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"11-runner-pattern-federated-execution",children:"11. Runner Pattern (Federated Execution)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Runners execute inside team-owned infrastructure"}),"\n",(0,t.jsx)(n.li,{children:"Pull-based task queues"}),"\n",(0,t.jsx)(n.li,{children:"Data locality preserved"}),"\n",(0,t.jsx)(n.li,{children:"Network isolation respected"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Gantral is the authority. Runners are the executors."})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"12-optional-tool-mediation--evidence-capture-runner-side",children:"12. Optional Tool Mediation & Evidence Capture (Runner-Side)"}),"\n",(0,t.jsx)(n.p,{children:"Runners may optionally mediate tool execution to:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Capture tool inputs and outputs"}),"\n",(0,t.jsx)(n.li,{children:"Store evidence externally"}),"\n",(0,t.jsx)(n.li,{children:"Generate immutable evidence references"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"constraints",children:"Constraints"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Tool mediation must not block tool execution"}),"\n",(0,t.jsx)(n.li,{children:"Gantral must not inspect payloads"}),"\n",(0,t.jsxs)(n.li,{children:["Policies may require ",(0,t.jsx)(n.strong,{children:"presence of evidence"}),", not its contents"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"non-goals",children:"Non-Goals"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Must not authorize or deny tool execution"}),"\n",(0,t.jsx)(n.li,{children:"Must not introduce new execution states"}),"\n",(0,t.jsx)(n.li,{children:"Must not pass raw tool payloads into Gantral APIs"}),"\n",(0,t.jsx)(n.li,{children:"Must not modify agent reasoning behavior"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"13-deployment-model",children:"13. Deployment Model"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Kubernetes (primary)"}),"\n",(0,t.jsx)(n.li,{children:"Self-hosted"}),"\n",(0,t.jsx)(n.li,{children:"Air-gapped deployments supported"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"14-implementation-phases",children:"14. Implementation Phases"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Phase 1 \u2013 Control Foundations"}),"\n",(0,t.jsx)(n.li,{children:"Phase 2 \u2013 Governance Hardening"}),"\n",(0,t.jsx)(n.li,{children:"Phase 3 \u2013 Enterprise Integration"}),"\n",(0,t.jsx)(n.li,{children:"Phase 4 \u2013 Federated Execution"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Phases must be completed ",(0,t.jsx)(n.strong,{children:"strictly in order"}),"."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"15-what-this-guide-protects-against",children:"15. What This Guide Protects Against"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Accidental autonomy"}),"\n",(0,t.jsx)(n.li,{children:"Agent memory leakage into audit logs"}),"\n",(0,t.jsx)(n.li,{children:"Non-deterministic approvals"}),"\n",(0,t.jsx)(n.li,{children:"Regulator rejection"}),"\n",(0,t.jsx)(n.li,{children:"Framework lock-in"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"16-final-reminder",children:"16. Final Reminder"}),"\n",(0,t.jsx)(n.p,{children:"Gantral is not about what AI can do."}),"\n",(0,t.jsxs)(n.p,{children:["It is about what organizations are willing to ",(0,t.jsx)(n.strong,{children:"allow AI to do \u2014 and how they prove it"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["This guide exists to ensure Gantral is built ",(0,t.jsx)(n.strong,{children:"correctly, safely, and credibly"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453(e,n,i){i.d(n,{R:()=>r,x:()=>d});var s=i(6540);const t={},l=s.createContext(t);function r(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);