"use strict";(globalThis.webpackChunkdocs_site=globalThis.webpackChunkdocs_site||[]).push([[5210],{979(e,n,r){r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"architecture/execution-authority-vs-agent-memory","title":"Execution Authority vs Agent Memory vs Runtime","description":"This diagram shows the strict separation of responsibilities in Gantral.","source":"@site/../docs/architecture/execution-authority-vs-agent-memory.md","sourceDirName":"architecture","slug":"/architecture/execution-authority-vs-agent-memory","permalink":"/architecture/execution-authority-vs-agent-memory","draft":false,"unlisted":false,"editUrl":"https://github.com/Rainminds/gantral/tree/main/../docs/architecture/execution-authority-vs-agent-memory.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"State Machine","permalink":"/architecture/state-machine"},"next":{"title":"Comprehensive Implementation Guide","permalink":"/architecture/implementation-guide"}}');var t=r(4848),s=r(8453);const o={},l="Execution Authority vs Agent Memory vs Runtime",a={},c=[{value:"<strong>High-level Responsibility Split</strong>",id:"high-level-responsibility-split",level:2},{value:"<strong>Single-Page Architecture Diagram</strong>",id:"single-page-architecture-diagram",level:2},{value:"<strong>How to Read This Diagram</strong>",id:"how-to-read-this-diagram",level:2},{value:"<strong>1. Gantral = Execution Authority</strong>",id:"1-gantral--execution-authority",level:3},{value:"<strong>2. Temporal = Execution Runtime</strong>",id:"2-temporal--execution-runtime",level:3},{value:"<strong>3. Agent Framework = Reasoning + Memory</strong>",id:"3-agent-framework--reasoning--memory",level:3},{value:"<strong>4. Runners = Execution Boundary</strong>",id:"4-runners--execution-boundary",level:3},{value:"<strong>Why This Separation Matters</strong>",id:"why-this-separation-matters",level:2},{value:"<strong>One-line Summary</strong>",id:"one-line-summary",level:2},{value:"<strong>Recommended Placement in the Repo</strong>",id:"recommended-placement-in-the-repo",level:2}];function h(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"execution-authority-vs-agent-memory-vs-runtime",children:"Execution Authority vs Agent Memory vs Runtime"})}),"\n",(0,t.jsxs)(n.p,{children:["This diagram shows the ",(0,t.jsx)(n.strong,{children:"strict separation of responsibilities"})," in Gantral."]}),"\n",(0,t.jsx)(n.p,{children:"It answers one question unambiguously:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Who owns what state, and why Temporal is still required even when agents manage their own memory."})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"high-level-responsibility-split",children:(0,t.jsx)(n.strong,{children:"High-level Responsibility Split"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Execution Authority"})," \u2192 ",(0,t.jsx)(n.em,{children:"Gantral"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Execution Runtime"})," \u2192 ",(0,t.jsx)(n.em,{children:"Deterministic Workflow Engine (Temporal)"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Agent Memory & Reasoning"})," \u2192 ",(0,t.jsx)(n.em,{children:"Agent Frameworks (CrewAI, LangGraph, etc.)"})]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"single-page-architecture-diagram",children:(0,t.jsx)(n.strong,{children:"Single-Page Architecture Diagram"})}),"\n",(0,t.jsx)(n.mermaid,{value:'flowchart TB\n\n  %% ===== External Triggers =====\n  EXT["External Trigger\\nEvent / Schedule / API"]\n\n  %% ===== Gantral =====\n  subgraph G["Gantral: Execution Authority"]\n    G1["Execution State Machine\\nRUNNING / WAITING_FOR_HUMAN / ..."]\n    G2["HITL Enforcement\\nApprove / Reject / Override"]\n    G3["Policy Evaluation Interface\\nTransition Guards"]\n    G4["Audit & Authority Log\\nImmutable Decisions"]\n  end\n\n  %% ===== Runtime =====\n  subgraph T["Deterministic Runtime\\nTemporal"]\n    T1["Workflow Orchestration"]\n    T2["Durable Timers & Signals"]\n    T3["Deterministic Replay\\nAuthority Replay"]\n  end\n\n  %% ===== Runners =====\n  subgraph R["Distributed Runners\\nTeam-owned Infrastructure"]\n    R1["Agent Process Launcher"]\n    R2["Lifecycle Signals\\nCOMPLETED / FAILED / SUSPENDED"]\n  end\n\n  %% ===== Agent Framework =====\n  subgraph A["Agent Framework"]\n    A1["Agent Reasoning & Planning"]\n    A2["Agent Memory\\nConversation / Tools / State"]\n    A3["Native Persistence\\nCheckpoint DB / S3"]\n  end\n\n  %% ===== Flows =====\n  EXT --\x3e G1\n\n  G1 --\x3e T1\n  G2 --\x3e T2\n  G3 --\x3e T1\n\n  T1 --\x3e R1\n  R1 --\x3e A1\n\n  A1 --\x3e A2\n  A2 --\x3e A3\n\n  %% Suspend / Resume Flow\n  A1 --\x3e|WAITING_FOR_HUMAN| R2\n  R2 --\x3e|SUSPENDED| T2\n  T2 --\x3e|Approval Signal| R1\n\n  %% Completion Flow\n  A1 --\x3e|Done / Error| R2\n  R2 --\x3e T1\n\n  %% Audit\n  G1 --\x3e G4\n  G2 --\x3e G4\n  T3 --\x3e G4\n'}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"how-to-read-this-diagram",children:(0,t.jsx)(n.strong,{children:"How to Read This Diagram"})}),"\n",(0,t.jsx)(n.h3,{id:"1-gantral--execution-authority",children:(0,t.jsx)(n.strong,{children:"1. Gantral = Execution Authority"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Owns execution state"}),"\n",(0,t.jsxs)(n.li,{children:["Decides ",(0,t.jsx)(n.strong,{children:"when"})," execution may proceed"]}),"\n",(0,t.jsx)(n.li,{children:"Enforces human approval"}),"\n",(0,t.jsxs)(n.li,{children:["Produces the ",(0,t.jsx)(n.strong,{children:"authoritative audit log"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Gantral never sees:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Agent memory"}),"\n",(0,t.jsx)(n.li,{children:"Prompts"}),"\n",(0,t.jsx)(n.li,{children:"Tool state"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"2-temporal--execution-runtime",children:(0,t.jsx)(n.strong,{children:"2. Temporal = Execution Runtime"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Owns ordering, time, retries, and durability"}),"\n",(0,t.jsxs)(n.li,{children:["Guarantees deterministic replay of ",(0,t.jsx)(n.strong,{children:"authority decisions"})]}),"\n",(0,t.jsx)(n.li,{children:"Waits safely for hours or days during HITL"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Temporal does ",(0,t.jsx)(n.strong,{children:"not"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Run agent reasoning"}),"\n",(0,t.jsx)(n.li,{children:"Store agent memory"}),"\n",(0,t.jsx)(n.li,{children:"Decide outcomes"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"3-agent-framework--reasoning--memory",children:(0,t.jsx)(n.strong,{children:"3. Agent Framework = Reasoning + Memory"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Owns cognition, planning, and tools"}),"\n",(0,t.jsxs)(n.li,{children:["Persists internal state using ",(0,t.jsx)(n.strong,{children:"native persistence"})]}),"\n",(0,t.jsx)(n.li,{children:"Can safely exit and resume later"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["If native persistence is ",(0,t.jsx)(n.strong,{children:"not supported"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["The agent ",(0,t.jsx)(n.strong,{children:"must be split"})," into pre-approval and post-approval stages"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h3,{id:"4-runners--execution-boundary",children:(0,t.jsx)(n.strong,{children:"4. Runners = Execution Boundary"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Launch agent processes"}),"\n",(0,t.jsxs)(n.li,{children:["Detect lifecycle outcomes:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"COMPLETED"}),"\n",(0,t.jsx)(n.li,{children:"FAILED"}),"\n",(0,t.jsx)(n.li,{children:"SUSPENDED (hibernation)"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Translate agent signals into Gantral execution events"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Runners never make decisions."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"why-this-separation-matters",children:(0,t.jsx)(n.strong,{children:"Why This Separation Matters"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Auditability"}),": Authority can be replayed without agent memory"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Cost efficiency"}),": No compute during long approvals"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Framework freedom"}),": Any agent framework can be used"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Regulator trust"}),": Clear ownership of decisions"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"one-line-summary",children:(0,t.jsx)(n.strong,{children:"One-line Summary"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Gantral decides. Temporal remembers. Agents think."})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"recommended-placement-in-the-repo",children:(0,t.jsx)(n.strong,{children:"Recommended Placement in the Repo"})}),"\n",(0,t.jsx)(n.p,{children:"Add this file as:"}),"\n",(0,t.jsx)(n.p,{children:"/docs/architecture/execution-authority-vs-agent-memory.md"}),"\n",(0,t.jsx)(n.p,{children:"Then:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Link it from:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"README.md"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"docs/architecture/README.md"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Reference it from:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"PRD (conceptual grounding)"}),"\n",(0,t.jsx)(n.li,{children:"TRD (visual companion)"}),"\n",(0,t.jsx)(n.li,{children:"Consumer Guide (for developers)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["This diagram becomes the ",(0,t.jsx)(n.strong,{children:"canonical mental model"})," for contributors, users, and reviewers."]})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453(e,n,r){r.d(n,{R:()=>o,x:()=>l});var i=r(6540);const t={},s=i.createContext(t);function o(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);